import { Start as hB } from "./WebSharper.Core.JavaScript/Runtime.js"
import { Lazy as hC, MarkResizable as hD, SetOptional as hE, Force as hF, Create as hG, GetOptional as hH, CreateFuncWithArgs as hI, DeleteEmptyFields as hJ, OnLoad as hK } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(hL){ return"Dispose"in hL;}
function b(){ const hL=bY.EmbedView($((hT) => hT.$==1?q():D(), e().View));const hM=c(d(), {$:1});const hN=c(d(), {$:0});const hO=new n("New_1");const hP=(hO.h.push(new V("url_home", hN)),hO);const hQ=(hP.h.push(new V("url_page1", hM)),hP);const hR=(hQ.h.push(new U("maincontainer", hL)),hQ);const hS=bR(hR.k, hR.h, []);hR.i=new T(hS[1], dR(hS[0]));}
function c(hL, hM){ return"#"+bZ(hL, hM);}
function d(){ return u0039.router;}
function e(){ return u0039.currentPage;}
function f(hL, hM){ h(hL, hM);return hL[hM];}
function g(hL){ return hL.dims===2?hL.length*hL.length:hL.length;}
function h(hL, hM){ if(hM<0||hM>=hL.length)j("Index was outside the bounds of the array.");}
function i(hL, hM, hN){ h(hL, hM);hL[hM]=hN;}
function j(hL){ throw new Error(hL);}
function k(hL){ return[hL.K, hL.V];}
function l(hL, hM){ const hN=1+hM-hL;return hN<=0?[]:bJ(hN, (hO) => hO+hL);}
let m=hC((hL) => class hM { static { m=hL(this);} Equals(hN){ return this===hN;} GetHashCode(){ return -1;} });
let n=hC((hL) => class hM extends m { static { n=hL(this);} i;k;h;s;static New_1(){ return new this("New_1");} constructor(hN){ if(hN=="New_1"){ let hO;super();this.i=null;this.k=(hO=u0037(),String(hO));this.h=hD([]);hE(this, "s", null);} } });
let o=hC((hL) => class hM extends m { static { o=hL(this);} ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(hN, hO){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return f5("");} });
let p=hC((hL) => class hM { static { p=hL(this);} });
function q(){ r();const hL=(h7) => h7.LastPrice*h7.Amount;const hM=$((h7) => bm(hL, h7), s().v);const hN=(h7) => h7.LastPrice*h7.Amount-h7.Price*h7.Amount;const hO=$((h7) => bm(hN, h7), s().v);const hP=$((h7) => h7>=0?"rgb(0, 255, 0)":"red", hO);const hQ=ba((h7, h8) =>(h8*100/h7).toFixed(2), hM, hO);const hR=$((h7) => h7.toFixed(2)+"$", hO);const hS=$((h7) => h7.toFixed(2)+"$", hM);const hT=bY.Convert((h7) => { const h8=h7.Amount*h7.Price;const h9=h7.LastPrice*h7.Amount;const h_=[h8, h9, h9-h8, (iu) => iu.toFixed(2)];const h$=h_[2];const ia=h_[3];const ib=ia(h_[1]);const ic=ia(h_[0]);const id=ia(h$);const ie=ia(h7.LastPrice);const if_1=ia(h7.Price);const ig=ia(h7.Amount);const ih=new n("New_1");const ii=(ih.h.push(new V("stockname", h7.Name)),ih);const ij=(ii.h.push(new V("stockamount", ig)),ii);const ik=(ij.h.push(new V("stockprice", if_1)),ij);const il=(ik.h.push(new V("stocklast", ie)),ik);const im=(il.h.push(new V("color", h$>=0?"rgb(0, 255, 0)":"red")),il);const in_1=(im.h.push(new V("stockprofitandloss", id)),im);const io=(in_1.h.push(new V("stockcostbasis", ic)),in_1);const ip=(io.h.push(new V("stockmarketvalue", ib)),io);const iq=(ip.h.push(bQ(ip.k, "remove", () => ip.i, () => { s().RemoveByKey(h7.Name);})),ip);const ir=bR(iq.k, iq.h, []);const is=new T(ir[1], bS(ir[0]));let it=(iq.i=is,is);return it.Doc;}, s().v);const hU=new n("New_1");const hV=(hU.h.push(new U("stocktablebody", hT)),hU);const hW=(hV.h.push(new cL("stockname", v())),hV);const hX=(hW.h.push(new cK("stockamount", u())),hW);const hY=(hX.h.push(new cK("stockprice", t())),hX);const hZ=(hY.h.push(new cJ("assetamount", hS)),hY);const h0=(hZ.h.push(new cJ("assetprofitandloss", hR)),hZ);const h1=(h0.h.push(new cJ("assetprofitandlosspercent", hQ)),h0);const h2=(h1.h.push(new cJ("colorprofitandloss", hP)),h1);const h3=(h2.h.push(bQ(h2.k, "add", () => h2.i, () => { const h7=v();const h8=u();const h9=t();if(!cN(h7.Get())&&h8.Get()>0&&h9.Get()>0){ const h_=bP(w(h7.Get()), h8.Get(), h9.Get(), x(h9.Get()));s().Append(h_);h7.Set("");h8.Set(0);h9.Set(0);} })),h2);const h4=bR(h3.k, h3.h, [["stockname", 0, null], ["stockamount", 1, null], ["stockprice", 1, null]]);const h5=new T(h4[1], bT(h4[0]));let h6=(h3.i=h5,h5);return h6.Doc;}
function r(){ const hL=null;ej(ee(() => ef(() => true, ee(() => eg(eh(3000), () => { A();return ei();})))), null);}
function s(){ return u0039.stockModel;}
function t(){ return u0039.stockP;}
function u(){ return u0039.stockA;}
function v(){ return u0039.stockN;}
function w(hL){ let hM;return cN(hL)?hL:(hM=hL[0],String(hM)).toUpperCase()+hL.substring(1).toLowerCase();}
function x(hL){ return hL*(1+((B(),Math.random())-0.5)*0.2);}
function y(hL){ const hM=JSON.stringify(((et(eu()))())(hL));globalThis.localStorage.setItem("stocks", hM);}
function z(){ const hL=globalThis.localStorage.getItem("stocks");if(hL==null)return C();else try { return b8((hM) => bP(hM.Name, hM.Amount, hM.Price, x(hM.Price)), ((ev(eu()))())(JSON.parse(hL)));} catch(hM){ return C();} }
function A(){ s().Iter((hL) => { const hM=x(hL.Price);s().UpdateBy((hN) => hN.Name==hL.Name?bW(bP(hN.Name, hN.Amount, hN.Price, hM)):null, hL.Name);});}
function B(){ return u0039.random;}
function C(){ return u0039.initialStockData;}
function D(){ const hL=new n("New_1");const hM=(hL.h.push(new cL("incomegroup", K())),hL);const hN=(hM.h.push(new cK("gains", J())),hM);const hO=(hN.h.push(new cL("expensegroup", I())),hN);const hP=(hO.h.push(new cK("losses", H())),hO);const hQ=(hP.h.push(new cJ("income", G())),hP);const hR=(hQ.h.push(new cJ("expenses", F())),hQ);const hS=(hR.h.push(new cJ("balance", E())),hR);const hT=(hS.h.push(bQ(hS.k, "gainings", () => hS.i, () => { if(!cN(K().Get())&&J().Get()!==0)L();})),hS);const hU=(hT.h.push(bQ(hT.k, "losings", () => hT.i, () => { if(!cN(I().Get())&&H().Get()!==0)M();})),hT);const hV=bR(hU.k, hU.h, [["incomegroup", 0, null], ["gains", 1, null], ["expensegroup", 0, null], ["losses", 1, null]]);const hW=new T(hV[1], bU(hV[0]));let hX=(hU.i=hW,hW);return hX.Doc;}
function E(){ return u0039.balanceView;}
function F(){ return u0039.totalExpensesView;}
function G(){ return u0039.totalIncomeView;}
function H(){ return u0039.loss;}
function I(){ return u0039.expensegroup;}
function J(){ return u0039.gain;}
function K(){ return u0039.incomegroup;}
function L(){ const hL=O().Get();const hM=K().Get();const hN=J().Get();const hO=P().Get();const hP=Q(hL, hM, hN, hO[0], hO[1]);P().Set([hP[0], hP[1]]);O().Set(hP[2]);K().Set("");J().Set(0);}
function M(){ const hL=N().Get();const hM=I().Get();const hN=H().Get();const hO=R().Get();const hP=Q(hL, hM, hN, hO[0], hO[1]);R().Set([hP[0], hP[1]]);N().Set(hP[2]);I().Set("");H().Set(0);}
function N(){ return u0039.totalE;}
function O(){ return u0039.totalG;}
function P(){ return u0039.storage_i;}
function Q(hL, hM, hN, hO, hP){ return[ca(hO, b6([hM])), ca(hP, b6([hN])), hL+hN];}
function R(){ return u0039.storage_e;}
let S=hC((hL) => class hM extends m { static { S=hL(this);} });
let T=hC((hL) => class hM extends m { static { T=hL(this);} doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(hN){ this.anchorRoot=hN;} constructor(hN, hO){ super();this.doc=hO;this.allVars=hN.$==0?hN.$0:j("Should not happen");this.anchorRoot=null;} });
let U=hC((hL) => { hF(o);return class hM extends o { static { U=hL(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(hN, hO){ super();this.name=hN;this.fillWith=hO;} };});
let V=hC((hL) => { hF(o);return class hM extends o { static { V=hL(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return f5(this.fillWith);} constructor(hN, hO){ super();this.name=hN;this.fillWith=hO;} };});
function W(hL, hM){ if(hL===hM)return true;else { const hN=typeof hL;if(hN=="object"){ if(hL===null||hL===void 0||hM===null||hM===void 0||!W(typeof hM, "object"))return false;else if("Equals"in hL)return hL.Equals(hM);else if("Equals"in hM)return false;else if(hL instanceof Array&&hM instanceof Array)return X(hL, hM);else if(hL instanceof Date&&hM instanceof Date)return Y(hL, hM);else { const hO=[true];let hP;for(var hR in hL)if(((hS) => { hO[0]=!hL.hasOwnProperty(hS)||hM.hasOwnProperty(hS)&&W(hL[hS], hM[hS]);return!hO[0];})(hR))break;if(hO[0]){ let hQ;for(var hS in hM)if(((hT) => { hO[0]=!hM.hasOwnProperty(hT)||hL.hasOwnProperty(hT);return!hO[0];})(hS))break;} return hO[0];} } else return hN=="function"&&("$Func"in hL?hL.$Func===hM.$Func&&hL.$Target===hM.$Target:"$Invokes"in hL&&"$Invokes"in hM&&X(hL.$Invokes, hM.$Invokes));} }
function X(hL, hM){ let hN;let hO;if(g(hL)===g(hM)){ hN=true;hO=0;while(hN&&hO<g(hL)){!W(f(hL, hO), f(hM, hO))?hN=false:void 0;hO=hO+1;} return hN;} else return false;}
function Y(hL, hM){ return hL.getTime()===hM.getTime();}
function Z(hL){ const hM=typeof hL;return hM=="function"?0:hM=="boolean"?hL?1:0:hM=="number"?hL:hM=="string"?u0030(hL):hM=="object"?hL==null?0:hL instanceof Array?u0031(hL):u0032(hL):0;}
function u0030(hL){ let hM;if(hL===null)return 0;else { hM=5381;for(let hN=0, hO=hL.length-1;hN<=hO;hN++)hM=u0033(hM, hL[hN].charCodeAt());return hM;} }
function u0031(hL){ let hM=-34948909;for(let hN=0, hO=g(hL)-1;hN<=hO;hN++)hM=u0033(hM, Z(f(hL, hN)));return hM;}
function u0032(hL){ if("GetHashCode"in hL)return hL.GetHashCode();else { const hM=[0];let hN;for(var hO in hL)if(((hP) => { hM[0]=u0033(u0033(hM[0], u0030(hP)), Z(hL[hP]));return false;})(hO))break;return hM[0];} }
function u0033(hL, hM){ return(hL<<5)+hL+hM;}
function u0034(hL, hM){ if(hL===hM)return 0;else { const hN=typeof hL;switch(hN=="function"?1:hN=="boolean"?2:hN=="number"?2:hN=="string"?2:hN=="object"?3:0){ case 0:return typeof hM=="undefined"?0:-1;case 1:return j("Cannot compare function values.");case 2:return hL<hM?-1:1;case 3:if(hL===null)return -1;else if(hM===null)return 1;else if("CompareTo"in hL)return hL.CompareTo(hM);else if("CompareTo0"in hL)return hL.CompareTo0(hM);else if(hL instanceof Array&&hM instanceof Array)return u0035(hL, hM);else if(hL instanceof Date&&hM instanceof Date)return u0036(hL, hM);else { const hO=[0];let hP;for(var hR in hL)if(((hS) =>!hL.hasOwnProperty(hS)?false:!hM.hasOwnProperty(hS)?(hO[0]=1,true):(hO[0]=u0034(hL[hS], hM[hS]),hO[0]!==0))(hR))break;if(hO[0]===0){ let hQ;for(var hS in hM)if(((hT) =>!hM.hasOwnProperty(hT)?false:!hL.hasOwnProperty(hT)&&(hO[0]=-1,true))(hS))break;} return hO[0];} break;} } }
function u0035(hL, hM){ let hN;let hO;if(g(hL)<g(hM))return -1;else if(g(hL)>g(hM))return 1;else { hN=0;hO=0;while(hN===0&&hO<g(hL)){ hN=u0034(f(hL, hO), f(hM, hO));hO=hO+1;} return hN;} }
function u0036(hL, hM){ return u0034(hL.getTime(), hM.getTime());}
function u0037(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (hL) => { const hM=Math.random()*16|0;const hN=hL=="x"?hM:hM&3|8;return hN.toString(16);});}
function u0038(hL, hM){ return{Parse:hL, Write:hM};}
let u0039=hC((hL) => class hM { static { u0039=hL(this);} static currentPage;static router;static stockModel;static initialStockData;static random;static stockA;static stockN;static stockP;static totalExpensesView;static totalIncomeView;static balanceView;static storage_e;static storage_i;static totalE;static loss;static expensegroup;static totalG;static gain;static incomegroup;static { this.incomegroup=b5.Create_1("");this.gain=b5.Create_1(0);this.totalG=b5.Create_1(0);this.expensegroup=b5.Create_1("");this.loss=b5.Create_1(0);this.totalE=b5.Create_1(0);this.storage_i=b5.Create_1([b3.Empty, b3.Empty]);this.storage_e=b5.Create_1([b3.Empty, b3.Empty]);this.balanceView=ba((hQ, hR) =>(hQ-hR).toFixed(2), O().View, N().View);this.totalIncomeView=$((hQ) => hQ.toFixed(2), O().View);this.totalExpensesView=$((hQ) => hQ.toFixed(2), N().View);const hN=[b5.Create_1(""), b5.Create_1(0), b5.Create_1(0)];this.stockP=hN[2];this.stockN=hN[0];this.stockA=hN[1];this.random=new b4();this.initialStockData=b6([bP("Apple", 1.1, 189, x(189)), bP("Alphabet", 1.1, 170, x(170)), bP("Microsoft", 1.3, 416, x(416))]);const hO=ce((hQ) => hQ.Name, z());let hP=(bb((hQ) => { y(b7(hQ));}, hO.v),hO);this.stockModel=hP;this.router=bV();this.currentPage=cg({$:0}, d());} });
function $(hL, hM){ return bc(() => ck(hL, hM()));}
function ba(hL, hM, hN){ return bc(() => cl(hL, hM(), hN()));}
function bb(hL, hM){ function hN(){ cm(hM(), hL, () => { eq().Fork(hN);});} eq().Fork(hN);}
function bc(hL){ const hM={c:null, o:hL};return() => { let hN=hM.c;if(hN===null){ hN=hM.o();hM.c=hN;const hO=hN.s;if(hO!=null&&hO.$==0)hM.o=null;else cn(hN, () => { hM.c=null;});return hN;} else return hN;};}
function bd(hL, hM){ return be($(hL, hM));}
function be(hL){ return bc(() => cw(hL()));}
function bf(hL, hM){ return bg((hN) => hN, hL, hM);}
function bg(hL, hM, hN){ const hO=[new do_1("New_5")];return $((hP) => { const hQ=hO[0];const hR=new do_1("New_5");const hS=f8((hT) => { const hU=hL(hT);const hV=hQ.ContainsKey(hU)?hQ.Item(hU):hM(hT);hR.set_Item(hU, hV);return hV;}, ds(hP));hO[0]=hR;return hS;}, hN);}
function bh(hL){ const hM={s:eI(hL)};return() => hM;}
function bi(hL, hM, hN, hO){ return bc(() => cx(hL, hM(), hN(), hO()));}
function bj(hL){ return bc(() => cy(br((hM) => hM(), hL)));}
function bk(hL, hM){ return bc(() => cz(hL(), hM()));}
let bl=hC((hL) => class hM extends m { static { bl=hL(this);} key;u0076ar;storage;v;it;RemoveByKey(hN){ this.u0076ar.Set(this.storage.SRemoveIf((hO) => W(this.key(hO), hN), this.u0076ar.Get()));this.ObsoleteKey(hN);} ObsoleteKey(hN){ let hO;const hP=(hO=null,[this.it.TryGetValue(hN, {get:() => hO, set:(hQ) => { hO=hQ;}}), hO]);if(hP[0]){ eb(hP[1]);this.it.RemoveKey(hN);} } Append(hN){ const hO=this.u0076ar.Get();const hP=this.key(hN);const hQ=dr((hR) => W(this.key(hR), hP), hO);if(hQ!=null&&hQ.$==1)this.u0076ar.Set(this.storage.SSetAt(hQ.$0, hN, hO));else this.u0076ar.Set(this.storage.SAppend(hN, hO));this.ObsoleteKey(hP);} Iter(hN){ dx(hN, this.u0076ar.Get());} UpdateBy(hN, hO){ const hP=this.u0076ar.Get();const hQ=dr((hT) => W(this.key(hT), hO), hP);if(hQ!=null&&hQ.$==1){ const hR=hQ.$0;const hS=hN(f(hP, hR));if(hS!=null&&hS.$==1){ this.u0076ar.Set(this.storage.SSetAt(hR, hS.$0, hP));this.ObsoleteKey(hO);} } else void 0;} GetEnumerator(){ return ew(this.u0076ar.Get());} GetEnumerator0(){ return ez(this.u0076ar.Get());} static New(hN, hO){ return new this("New", hN, hO);} static New_3(hN, hO, hP){ return new this("New_3", hN, hO, hP);} constructor(hN, hO, hP, hQ){ let hR;let hS;if(hN=="New"){ hR=hO;hS=hP;hN="New_3";hO=hR;hP=b5.Create_1(ds(bu(hR, hS.SInit())));hQ=hS;} if(hN=="New_3"){ const hT=hO;const hU=hP;const hV=hQ;super();this.key=hT;this.u0076ar=hU;this.storage=hV;this.v=$((hW) => hW.slice(), this.u0076ar.View);this.it=new do_1("New_5");} } });
function bm(hL, hM){ let hN=0;const hO=ew(hM);try { while(hO.MoveNext())hN=hN+hL(hO.Current);} finally { if(typeof hO=="object"&&a(hO))hO.Dispose();} return hN;}
function bn(hL, hM){ return{GetEnumerator:() => { const hN=ew(hL);const hO=[true];return new eD(hN, null, (hP) => { if(hP.s.MoveNext()){ hP.c=hP.s.Current;return true;} else { const hQ=hP.s;if(!W(hQ, null))hQ.Dispose();hP.s=null;return hO[0]&&(hO[0]=false,hP.s=ew(hM),hP.s.MoveNext()?(hP.c=hP.s.Current,true):(hP.s.Dispose(),hP.s=null,false));} }, (hP) => { const hQ=hP.s;if(!W(hQ, null))hQ.Dispose();});}};}
function bo(hL, hM){ let hN=0;const hO=ew(hM);try { while(hO.MoveNext()){ hL(hN, hO.Current);hN=hN+1;} } finally { if(typeof hO=="object"&&a(hO))hO.Dispose();} }
function bp(hL, hM){ return bv(br(hL, hM));}
function bq(hL){ return bw((hM, hN) =>[hM, hN], hL);}
function br(hL, hM){ return{GetEnumerator:() => { const hN=ew(hM);return new eD(null, null, (hO) => hN.MoveNext()&&(hO.c=hL(hN.Current),true), () => { hN.Dispose();});}};}
function bs(hL, hM){ const hN=ew(hM);try { let hO=true;let hP=0;while(hO&&hN.MoveNext())if(hL(hN.Current))hO=false;else hP=hP+1;return hO?null:bW(hP);} finally { if(typeof hN=="object"&&a(hN))hN.Dispose();} }
function bt(hL, hM){ const hN=ew(hM);try { let hO=null;while(W(hO, null)&&hN.MoveNext())hO=hL(hN.Current);return hO;} finally { if(typeof hN=="object"&&a(hN))hN.Dispose();} }
function bu(hL, hM){ return{GetEnumerator:() => { const hN=ew(hM);const hO=new dp("New_3");return new eD(null, null, (hP) => { let hQ;let hR;if(hN.MoveNext()){ hQ=hN.Current;hR=hO.SAdd(hL(hQ));while(!hR&&hN.MoveNext()){ hQ=hN.Current;hR=hO.SAdd(hL(hQ));} return hR&&(hP.c=hQ,true);} else return false;}, () => { hN.Dispose();});}};}
function bv(hL){ return{GetEnumerator:() => { const hM=ew(hL);function hN(hO){ while(true){ const hP=hO.s;if(W(hP, null)){ if(hM.MoveNext()){ hO.s=ew(hM.Current);hO=hO;} else { hM.Dispose();return false;} } else if(hP.MoveNext()){ hO.c=hP.Current;return true;} else { hO.Dispose();hO.s=null;hO=hO;} } } return new eD(null, null, hN, (hO) => { const hP=hO.s;if(!W(hP, null))hP.Dispose();if(!W(hM, null))hM.Dispose();});}};}
function bw(hL, hM){ return bz(hL, bA((hN) => hN), hM);}
function bx(hL){ const hM=ew(hL);try { return hM.MoveNext()?hM.Current:gE();} finally { if(typeof hM=="object"&&a(hM))hM.Dispose();} }
function by(hL, hM, hN){ let hO=hM;const hP=ew(hN);try { while(hP.MoveNext())hO=hL(hO, hP.Current);return hO;} finally { if(typeof hP=="object"&&a(hP))hP.Dispose();} }
function bz(hL, hM, hN){ return{GetEnumerator:() => { const hO=ew(hM);const hP=ew(hN);return new eD(null, null, (hQ) => hO.MoveNext()&&hP.MoveNext()&&(hQ.c=hL(hO.Current, hP.Current),true), () => { hO.Dispose();hP.Dispose();});}};}
function bA(hL){ return{GetEnumerator:() => new eD(0, null, (hM) => { hM.c=hL(hM.s);hM.s=hM.s+1;return true;}, void 0)};}
function bB(hL, hM, hN){ return!bD((hO, hP) =>!hL(hO, hP), hM, hN);}
function bC(hL, hM){ const hN=ew(hM);try { while(hN.MoveNext())hL(hN.Current);} finally { if(typeof hN=="object"&&a(hN))hN.Dispose();} }
function bD(hL, hM, hN){ const hO=ew(hM);try { const hP=ew(hN);try { let hQ=false;while(!hQ&&hO.MoveNext()&&hP.MoveNext())hQ=hL(hO.Current, hP.Current);return hQ;} finally { if(typeof hP=="object"&&a(hP))hP.Dispose();} } finally { if(typeof hO=="object"&&a(hO))hO.Dispose();} }
function bE(hL){ return bG(() => ds(hL).slice().reverse());}
function bF(hL, hM){ return{GetEnumerator:() => new eD(hM, null, (hN) => { const hO=hL(hN.s);return hO==null?false:(hN.c=hO.$0[0],hN.s=hO.$0[1],true);}, void 0)};}
function bG(hL){ return{GetEnumerator:() => ew(hL())};}
function bH(hL){ const hM=ew(hL);try { if(!hM.MoveNext())bK();let hN=hM.Current;while(hM.MoveNext()){ const hO=hM.Current;if(u0034(hO, hN)===1)hN=hO;} return hN;} finally { if(typeof hM=="object"&&a(hM))hM.Dispose();} }
function bI(hL){ return bu((hM) => hM, hL);}
function bJ(hL, hM){ return bL(hL, bA(hM));}
function bK(){ return j("The input sequence was empty.");}
function bL(hL, hM){ hL<0?gI():void 0;return{GetEnumerator:() => { const hN=[ew(hM)];return new eD(0, null, (hO) => { hO.s=hO.s+1;if(hO.s>hL)return false;else { const hP=hN[0];return W(hP, null)?gE():hP.MoveNext()?(hO.c=hP.Current,hO.s===hL?(hP.Dispose(),hN[0]=null):void 0,true):(hP.Dispose(),hN[0]=null,gE());} }, () => { const hO=hN[0];if(!W(hO, null))hO.Dispose();});}};}
function bM(hL, hM){ return!bN((hN) =>!hL(hN), hM);}
function bN(hL, hM){ const hN=ew(hM);try { let hO=false;while(!hO&&hN.MoveNext())hO=hL(hN.Current);return hO;} finally { if(typeof hN=="object"&&a(hN))hN.Dispose();} }
function bO(hL, hM, hN){ const hO=ew(hM);try { const hP=ew(hN);try { let hQ=0;let hR=true;while(hR&&hQ===0)if(hO.MoveNext())hQ=hP.MoveNext()?hL(hO.Current, hP.Current):1;else if(hP.MoveNext())hQ=-1;else hR=false;return hQ;} finally { if(typeof hP=="object"&&a(hP))hP.Dispose();} } finally { if(typeof hO=="object"&&a(hO))hO.Dispose();} }
function bP(hL, hM, hN, hO){ return{Name:hL, Amount:hM, Price:hN, LastPrice:hO};}
function bQ(hL, hM, hN, hO){ return new cM(hM, (hP) =>(hQ) => { const hR=hN();hR.SetAnchorRoot(hP);return hO({Vars:hR, Anchors:hR, Target:hP, Event:hQ});});}
function bR(hL, hM, hN){ const hO=new do_1("New_5");const hP=new dp("New_3");const hQ=ew(hM);try { while(hQ.MoveNext()){ const hR=hQ.Current;const hS=hR.Name;hP.SAdd(hS);hO.set_Item(hS, hR);} } finally { if(typeof hQ=="object"&&a(hQ))hQ.Dispose();} return[bn(hM, dq((hT) => { const hU=hT[0];const hV=hT[1];const hW=hT[2];if(hP.Contains(hU))return null;else { const hX=hV===0?dI.GetOrAddHoleFor(hL, hU, () => { const hY=hW==null?null:bW(hW.$0);let hZ=b5.Create_1(hY==null?"":hY.$0);return new cL(hU, hZ);}):hV===1?dI.GetOrAddHoleFor(hL, hU, () => { const hY=hW==null?null:bW(hW.$0);let hZ=b5.Create_1(hY==null?0:hY.$0);return new cK(hU, hZ);}):hV===2?dI.GetOrAddHoleFor(hL, hU, () => { const hY=hW==null?null:bW(hW.$0);let hZ=b5.Create_1(hY==null?false:hY.$0);return new dK(hU, hZ);}):hV===3?dI.GetOrAddHoleFor(hL, hU, () => { const hY=hW==null?null:bW(hW.$0);let hZ=b5.Create_1(hY==null?-8640000000000000:hY.$0);return new dL(hU, hZ);}):hV===4?dI.GetOrAddHoleFor(hL, hU, () => new dM(hU, b5.Create_1([]))):hV===5?dI.GetOrAddHoleFor(hL, hU, () => new dN(hU, b5.Create_1(bW(globalThis.document.querySelector("[ws-dom="+hU+"]"))))):hV===6?dI.GetOrAddHoleFor(hL, hU, () => { const hY=hW==null?null:bW(hW.$0);let hZ=b5.Create_1(hY==null?[]:hY.$0);return new dP(hU, hZ);}):j("Invalid value type");hO.set_Item(hU, hX);return bW(hX);} }, hN)), {$:0, $0:hO}];}
function bS(hL){ dS("index");return hL?dT("index", bW("stocklist"), hL):void 0;}
function bT(hL){ dS("index");return hL?dT("index", bW("stockportfolio"), hL):void 0;}
function bU(hL){ dS("index");return hL?dT("index", bW("moneytracking"), hL):void 0;}
function bV(){ return eA(void 0, [[null, [[null, []]], []], [null, [[null, ["counter"]]], []]]);}
function bW(hL){ return{$:1, $0:hL};}
function bX(hL){ const hM={};const hN=ew(hL);try { while(hN.MoveNext()){ const hO=hN.Current;hM[hO[0]]=hO[1];} } finally { if(typeof hN=="object"&&a(hN))hN.Dispose();} return hM;}
let bY=hC((hL) => class hM extends m { static { bY=hL(this);} docNode;updates;static EmbedView(hN){ const hO=cZ();return bY.Mk(dj(hO), $(() => { }, bd((hP) => { c0(hO, hP.docNode);return hP.updates;}, hN)));} static Mk(hN, hO){ return new hM(hN, hO);} static Convert(hN, hO){ return bY.Flatten(bf(hN, hO));} static RunInPlace(hN, hO, hP){ const hQ=c1(hO, hP.docNode);bb(fg()||fn()?fo(c2(hN, hQ, hP.docNode)):() => { c3(hN, hQ, hP.docNode);}, hP.updates);} static Flatten(hN){ return bY.EmbedView($(bY.Concat, hN));} static get Empty(){ return bY.Mk(null, bh());} static Concat(hN){ return f7(bY.Empty, bY.Append, f9(hN));} static TextNode(hN){ return bY.Mk(dl(globalThis.document.createTextNode(hN)), bh());} static TextView(hN){ const hO=da();return bY.Mk(dm(hO), $((hP) => { db(hO, hP);}, hN));} static Append(hN, hO){ return bY.Mk(dn(hN.docNode, hO.docNode), bk(hN.updates, hO.updates));} constructor(hN, hO){ super();this.docNode=hN;this.updates=hO;} });
function bZ(hL, hM){ const hN=b0(hL, hM);return hN==null?"":hN.$0.ToLink();}
function b0(hL, hM){ const hN=hL.Write(hM);return hN==null?null:bW(ea.Combine(hN.$0));}
function b1(hL, hM){ return bt((hN) => hN[0].Segments.$==0?bW(hN[1]):null, hL.Parse(hM));}
function b2(hL, hM){ return"#"+bZ(hL, hM);}
let b3=hC((hL) => class hM { static { b3=hL(this);} static Empty=hG(b3, {$:0});static Cons(hN, hO){ return hG(hM, {$:1, $0:hN, $1:hO});} GetEnumerator(){ return new eD(this, null, (hN) => { const hO=hN.s;return hO.$==0?false:(hN.c=hO.$0,hN.s=hO.$1,true);}, void 0);} });
let b4=hC((hL) => class hM extends m { static { b4=hL(this);} });
let b5=hC((hL) => class hM extends m { static { b5=hL(this);} static Create_1(hN){ return new ec(false, {s:eH(hN, [])}, hN);} static { } });
function b6(hL){ let hM=b3.Empty;for(let hN=g(hL)-1, hO=0;hN>=hO;hN--)hM=b3.Cons(f(hL, hN), hM);return hM;}
function b7(hL){ if(hL instanceof b3)return hL;else if(hL instanceof Array)return b6(hL);else { const hM=ew(hL);try { let hN;let hO=hM.MoveNext();if(!hO)return b3.Empty;else { const hP=hG(b3, {$:1});hN=hP;while(hO){ hN.$0=hM.Current;if(hM.MoveNext()){ const hQ=hG(b3, {$:1});hN=(hN.$1=hQ,hQ);} else hO=false;} hN.$1=b3.Empty;return hP;} } finally { if(typeof hM=="object"&&a(hM))hM.Dispose();} } }
function b8(hL, hM){ let hN;let hO;let hP;if(hM.$==0)return hM;else { const hQ=hG(b3, {$:1});hN=hQ;hO=hM;hP=true;while(hP){ hN.$0=hL(hO.$0);hO=hO.$1;if(hO.$==0)hP=false;else { const hR=hG(b3, {$:1});hN=(hN.$1=hR,hR);} } hN.$1=b3.Empty;return hQ;} }
function b9(hL, hM){ let hN=hM;while(hN.$==1){ hL(cb(hN));hN=cc(hN);} }
function b_(hL, hM){ return b6(dw(hL, hM));}
function b$(hL){ let hM=b3.Empty;let hN=hL;while(hN.$==1){ hM=b3.Cons(hN.$0, hM);hN=hN.$1;} return hM;}
function ca(hL, hM){ let hN;let hO;let hP;if(hL.$==0)return hM;else if(hM.$==0)return hL;else { const hQ=hG(b3, {$:1});hN=hQ;hO=hL;hP=true;while(hP){ hN.$0=hO.$0;hO=hO.$1;if(hO.$==0)hP=false;else { const hR=hG(b3, {$:1});hN=(hN.$1=hR,hR);} } hN.$1=hM;return hQ;} }
function cb(hL){ return hL.$==1?hL.$0:cd();}
function cc(hL){ return hL.$==1?hL.$1:cd();}
function cd(){ return j("The input list was empty.");}
function ce(hL, hM){ return cf(hL, ed(ds(hM)));}
function cf(hL, hM){ return new bl("New", hL, hM);}
function cg(hL, hM){ const hN=b5.Create_1(void 0);ch(hN, hL, hM);return hN;}
function ch(hL, hM, hN){ const hO=(hR) => b1(hN, ea.FromHash(hR, bW(true)));const hP=() => ci(hO, hM);const hQ=(hR) => { if(!W(hL.Get(), hR))hL.Set(hR);};hQ(hP());globalThis.addEventListener("popstate", () => hQ(hP()), false);globalThis.addEventListener("hashchange", () => hQ(hP()), false);globalThis.document.body.addEventListener("click", (hR) => { let hS;const hT=cj(hR.target);if(hT==null)hS=null;else { const hU=hT.$0;hS=cO(hU, "#")?hO(hU):null;} return hS==null?null:(hQ(hS.$0),hR.preventDefault());}, false);bb((hR) => { if(!W(hR, hP())){ const hS=b2(hN, hR);globalThis.history.pushState(null, null, hS);} }, hL.View);}
function ci(hL, hM){ const hN=globalThis.location.hash;const hO=hL(hN);return hO==null?((((hP) =>(hQ) => hP("Failed to parse route: "+fu(hQ)))((hP) => { console.log(hP);}))(hN),hM):hO.$0;}
function cj(hL){ while(true){ if(hL.tagName=="A")return dJ(hL.getAttribute("href"));else if(hL===globalThis.document.body)return null;else hL=hL.parentNode;} }
function ck(hL, hM){ const hN=hM.s;if(hN!=null&&hN.$==0)return{s:eI(hL(hN.$0))};else { const hO={s:eJ([], [])};co(hM, (hP) => { cp(hO, hM, hL(hP));}, hO);return hO;} }
function cl(hL, hM, hN){ const hO=hM.s;const hP=hN.s;if(hO!=null&&hO.$==0)return hP!=null&&hP.$==0?{s:eI(hL(hO.$0, hP.$0))}:cq(hL, hO.$0, hN);else if(hP!=null&&hP.$==0)return cr(hL, hP.$0, hM);else { const hQ={s:eJ([], [])};const hR=() => { const hS=hQ.s;if(!(hS!=null&&hS.$==0||hS!=null&&hS.$==2)){ const hT=cs(hM);const hU=cs(hN);if(hT!=null&&hT.$==1)if(hU!=null&&hU.$==1)if(hT.$0[1]&&hU.$0[1])ct(hQ, hL(hT.$0[0], hU.$0[0]));else cu(hQ, hL(hT.$0[0], hU.$0[0]));} };co(hM, hR, hQ);co(hN, hR, hQ);return hQ;} }
function cm(hL, hM, hN){ const hO=hL.s;if(hO==null)hN();else hO!=null&&hO.$==2?(hO.$1.push(hN),hM(hO.$0)):hO!=null&&hO.$==3?(hO.$0.push(hM),hO.$1.push(hN)):hM(hO.$0);}
function cn(hL, hM){ const hN=hL.s;if(hN==null)hM();else hN!=null&&hN.$==2?hN.$1.push(hM):hN!=null&&hN.$==3?hN.$1.push(hM):void 0;}
function co(hL, hM, hN){ const hO=hL.s;if(hO==null)eb(hN);else hO!=null&&hO.$==2?(cv(hO.$1, hN),hM(hO.$0)):hO!=null&&hO.$==3?(hO.$0.push(hM),cv(hO.$1, hN)):hM(hO.$0);}
function cp(hL, hM, hN){ const hO=hM.s;if(hO!=null&&hO.$==0)ct(hL, hN);else cu(hL, hN);}
function cq(hL, hM, hN){ return ck((hO) => hL(hM, hO), hN);}
function cr(hL, hM, hN){ return ck((hO) => hL(hO, hM), hN);}
function cs(hL){ const hM=hL.s;return hM!=null&&hM.$==0?bW([hM.$0, true]):hM!=null&&hM.$==2?bW([hM.$0, false]):null;}
function ct(hL, hM){ const hN=hL.s;if(hN!=null&&hN.$==3){ hL.s=eI(hM);const hO=hN.$0;for(let hP=0, hQ=g(hO)-1;hP<=hQ;hP++)(f(hO, hP))(hM);} else void 0;}
function cu(hL, hM){ const hN=hL.s;if(hN!=null&&hN.$==3){ hL.s=eH(hM, hN.$1);const hO=hN.$0;for(let hP=0, hQ=g(hO)-1;hP<=hQ;hP++)(f(hO, hP))(hM);} else void 0;}
function cv(hL, hM){ hL.push(hM);if(hL.length%20===0){ const hN=hL.slice(0);gD(hL);for(let hP=0, hQ=g(hN)-1;hP<=hQ;hP++){ const hO=f(hN, hP);if(typeof hO=="object")(((hR) => { if(hR.s)hL.push(hR);})(hO));else(((hR) => { hL.push(hR);})(hO));} } else void 0;}
function cw(hL){ const hM={s:eJ([], [])};co(hL, (hN) => { const hO=hN();co(hO, (hP) => { let hQ;const hR=hO.s;if(hR!=null&&hR.$==0){ const hS=hL.s;hQ=hS!=null&&hS.$==0;} else hQ=false;if(hQ)ct(hM, hP);else cu(hM, hP);}, hM);}, hM);return hM;}
function cx(hL, hM, hN, hO){ const hP=hM.s;const hQ=hN.s;const hR=hO.s;if(hP!=null&&hP.$==0)return hQ!=null&&hQ.$==0?hR!=null&&hR.$==0?{s:eI(hL(hP.$0, hQ.$0, hR.$0))}:cB(hL, hP.$0, hQ.$0, hO):hR!=null&&hR.$==0?cC(hL, hP.$0, hR.$0, hN):cD(hL, hP.$0, hN, hO);else if(hQ!=null&&hQ.$==0)return hR!=null&&hR.$==0?cE(hL, hQ.$0, hR.$0, hM):cF(hL, hQ.$0, hM, hO);else if(hR!=null&&hR.$==0)return cG(hL, hR.$0, hM, hN);else { const hS={s:eJ([], [])};const hT=() => { const hU=hS.s;if(!(hU!=null&&hU.$==0||hU!=null&&hU.$==2)){ const hV=cs(hM);const hW=cs(hN);const hX=cs(hO);if(hV!=null&&hV.$==1)if(hW!=null&&hW.$==1)if(hX!=null&&hX.$==1)if(hV.$0[1]&&hW.$0[1]&&hX.$0[1])ct(hS, hL(hV.$0[0], hW.$0[0], hX.$0[0]));else cu(hS, hL(hV.$0[0], hW.$0[0], hX.$0[0]));} };co(hM, hT, hS);co(hN, hT, hS);co(hO, hT, hS);return hS;} }
function cy(hL){ const hM=ds(hL);if(hM.length==0)return{s:eI([])};else { const hN={s:eJ([], [])};const hO=[g(hM)-1];const hP=() => { if(hO[0]===0){ const hQ=dD((hR) => { const hS=hR.s;return hS!=null&&hS.$==0?hS.$0:hS!=null&&hS.$==2?hS.$0:j("value not found by View.Sequence");}, hM);if(dv((hR) => { const hS=hR.s;return hS!=null&&hS.$==0;}, hM))ct(hN, hQ);else cu(hN, hQ);} else hO[0]=hO[0]-1;};dx((hQ) => { co(hQ, hP, hN);}, hM);return hN;} }
function cz(hL, hM){ const hN=hL.s;const hO=hM.s;if(hN!=null&&hN.$==0)return hO!=null&&hO.$==0?{s:eI(null)}:hM;else if(hO!=null&&hO.$==0)return hL;else { const hP={s:eJ([], [])};const hQ=() => { const hR=hP.s;if(!(hR!=null&&hR.$==0||hR!=null&&hR.$==2)){ const hS=cs(hL);const hT=cs(hM);if(hS!=null&&hS.$==1)if(hT!=null&&hT.$==1)if(hS.$0[1]&&hT.$0[1])ct(hP, null);else cu(hP, null);} };co(hL, hQ, hP);co(hM, hQ, hP);return hP;} }
function cA(hL){ const hM=hL.s;if(hM==null)return hL;else if(hM!=null&&hM.$==2){ const hN={s:eH(hM.$0, [])};cH(hL, hN);return hN;} else if(hM!=null&&hM.$==3){ const hO={s:eJ([], [])};co(hL, (hP) => { cp(hO, hL, hP);}, hO);return hO;} else return hL;}
function cB(hL, hM, hN, hO){ return ck((hP) => hL(hM, hN, hP), hO);}
function cC(hL, hM, hN, hO){ return ck((hP) => hL(hM, hP, hN), hO);}
function cD(hL, hM, hN, hO){ return cl((hP, hQ) => hL(hM, hP, hQ), hN, hO);}
function cE(hL, hM, hN, hO){ return ck((hP) => hL(hP, hM, hN), hO);}
function cF(hL, hM, hN, hO){ return cl((hP, hQ) => hL(hP, hM, hQ), hN, hO);}
function cG(hL, hM, hN, hO){ return cl((hP, hQ) => hL(hP, hQ, hM), hN, hO);}
function cH(hL, hM){ const hN=hL.s;if(hN==null)eb(hM);else hN!=null&&hN.$==2?cv(hN.$1, hM):hN!=null&&hN.$==3?cv(hN.$1, hM):void 0;}
function cI(hL, hM){ return hv(hL, -2147483648, 2147483647, hM);}
let cJ=hC((hL) => { hF(o);return class hM extends o { static { cJ=hL(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bW(this.fillWith);} get AsChoiceView(){ return f6(this.fillWith);} constructor(hN, hO){ super();this.name=hN;this.fillWith=hO;} };});
let cK=hC((hL) => { hF(o);return class hM extends o { static { cK=hL(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bW($(String, this.fillWith.View));} AddAttribute(hN, hO){(hN(hO))(fU(this.fillWith));} get AsChoiceView(){ return f6($(String, this.fillWith.View));} constructor(hN, hO){ super();this.name=hN;this.fillWith=hO;} };});
let cL=hC((hL) => { hF(o);return class hM extends o { static { cL=hL(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bW(this.fillWith.View);} AddAttribute(hN, hO){(hN(hO))(fV(this.fillWith));} get AsChoiceView(){ return f6($(String, this.fillWith.View));} constructor(hN, hO){ super();this.name=hN;this.fillWith=hO;} };});
let cM=hC((hL) => { hF(o);return class hM extends o { static { cM=hL(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(hN, hO){ super();this.name=hN;this.fillWith=hO;} };});
function cN(hL){ return hL==null||(new RegExp("^\\s*$")).test(hL);}
function cO(hL, hM){ return hL.substring(0, hM.length)==hM;}
function cP(hL, hM){ return ds(hM).join(hL);}
function cQ(hL, hM, hN){ return cS(hL, new RegExp("["+cT(hM.join(""))+"]"), hN);}
function cR(hL, hM, hN){ return hL.substr(hM, hN);}
function cS(hL, hM, hN){ return hN===1?dA((hO) => hO!=="", cW(hL, hM)):cW(hL, hM);}
function cT(hL){ return hL.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function cU(hL){ return hL==null||hL=="";}
function cV(hL, hM){ return hM.join(hL);}
function cW(hL, hM){ return hL.split(hM);}
function cX(hL, hM){ return bM(hL, cY(hM));}
function cY(hL){ return hL==null?"":hL;}
function cZ(){ return{Current:null, Dirty:false};}
function c0(hL, hM){ hL.Current=hM;hL.Dirty=true;}
function c1(hL, hM){ return gb(gc(), c6(hL, fE(), hM));}
function c2(hL, hM, hN){ if(fg()){ const hO=null;return ee(() => { const hP=gd(hN);const hQ=c_(hM, hP);const hR=c9(hM, hP);return eg(fh(fi(hQ, c8(hM, hP))), () => eg(c7(hL, hM), () => eg(fh(hR), () => { hM.PreviousNodes=hP;return ek(null);})));});} else return c7(hL, hM);}
function c3(hL, hM, hN){ const hO=gd(hN);c$(hL, hM.Top);hM.PreviousNodes=hO;}
function c4(hL, hM){ dc(hL, hM, null);}
function c5(hL, hM){ const hN=hL.parentNode;const hO=globalThis.document.createTextNode("");hN.insertBefore(hO, hL);dd(hL, hM);return hO;}
function c6(hL, hM, hN){ c4(hL, hN);const hO=fy(hL, hM);return eV.New(hO, hN, null, hL, eK(), hH(hO.OnAfterRender));}
function c7(hL, hM){ if(fn()){ const hN=(hO) => { requestAnimationFrame(() => { c$(hL, hM.Top);hO();});};return es((hO, hP, hQ) => hN.apply(null, [hO, hP, hQ]));} else { c$(hL, hM.Top);return ek(null);} }
function c8(hL, hM){ return fl(dD((hN) => fG(hN.Attr), gh(gg(hM, gf((hN) => fF(hN.Attr), hL.PreviousNodes)))));}
function c9(hL, hM){ return fl(dD((hN) => fI(hN.Attr), gh(gg(hL.PreviousNodes, gf((hN) => fH(hN.Attr), hM)))));}
function c_(hL, hM){ const hN=(hP) => fJ(hP.Attr);const hO=(hP) => gf(hN, hP);return fl(dD((hP) => fK(hP.Attr), gh(gi(hO(hL.PreviousNodes), hO(hM)))));}
function c$(hL, hM){!hL?de(hM):void 0;df(hM.Children);dg(hM);}
function da(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function db(hL, hM){ hL.Value=hM;hL.Dirty=true;}
function dc(hL, hM, hN){ while(true){ if(hM!=null&&hM.$==1)return dh(hL, hM.$0.El, hN);else if(hM!=null&&hM.$==2){ const hO=hM.$0;hO.Dirty=false;hM=hO.Current;} else if(hM==null)return hN;else if(hM!=null&&hM.$==4)return dh(hL, hM.$0.Text, hN);else if(hM!=null&&hM.$==5)return dh(hL, hM.$0, hN);else if(hM!=null&&hM.$==6)return dE((hR, hS) =>((((hT) =>(hU) =>(hV) => hU==null||hU.constructor===Object?dc(hT, hU, hV):dh(hT, hU, hV))(hL))(hR))(hS), hM.$0.Els, hN);else { const hP=hM.$1;const hQ=hM.$0;hM=hQ;hN=dc(hL, hP, hN);} } }
function dd(hL, hM){ dc(hL.parentNode, hM, hL);}
function de(hL){ function hM(hN){ function hO(hP){ while(true){ if(hP!=null&&hP.$==0){ const hQ=hP.$1;const hR=hP.$0;if(hO(hR))return true;else hP=hQ;} else if(hP!=null&&hP.$==2){ const hS=hP.$0;if(hS.Dirty)return true;else hP=hS.Current;} else if(hP!=null&&hP.$==6){ const hT=hP.$0;return hT.Dirty||dC(hM, hT.Holes);} else return false;} } return hO(hN.Children);} fN(hL.El, hL.Attr);if(hM(hL))di(hL);}
function df(hL){ while(true){ if(hL!=null&&hL.$==1)return c$(false, hL.$0);else if(hL!=null&&hL.$==2){ const hM=hL.$0;hL=hM.Current;} else if(hL==null)return null;else if(hL!=null&&hL.$==5)return null;else if(hL!=null&&hL.$==4){ const hN=hL.$0;return hN.Dirty?(hN.Text.nodeValue=hN.Value,hN.Dirty=false):null;} else if(hL!=null&&hL.$==6){ const hO=hL.$0;dx((hR) => { c$(false, hR);}, hO.Holes);dx((hR) => { fN(hR[0], hR[1]);}, hO.Attrs);return dg(hO);} else { const hP=hL.$1;const hQ=hL.$0;df(hQ);hL=hP;} } }
function dg(hL){ const hM=hH(hL.Render);if(hM!=null&&hM.$==1){ hM.$0(hL.El);hE(hL, "Render", null);} }
function dh(hL, hM, hN){ fd(hL, hN, hM);return hM;}
function di(hL){ const hM=hL.El;function hN(hR, hS){ while(true){ if(hR!=null&&hR.$==1)return hR.$0.El;else if(hR!=null&&hR.$==2){ const hT=hR.$0;if(hT.Dirty){ hT.Dirty=false;return dc(hM, hT.Current, hS);} else hR=hT.Current;} else if(hR==null)return hS;else if(hR!=null&&hR.$==4)return hR.$0.Text;else if(hR!=null&&hR.$==5)return hR.$0;else if(hR!=null&&hR.$==6){ const hU=hR.$0;if(hU.Dirty)hU.Dirty=false;return dE((hX, hY) => hX==null||hX.constructor===Object?hN(hX, hY):hX, hU.Els, hS);} else { const hV=hR.$1;const hW=hR.$0;hR=hW;hS=hN(hV, hS);} } } const hO=hL.El;hq((hR) => { fe(hO, hR);}, hp(hr(hL), ho(hL.El, hH(hL.Delimiters))));let hP=hL.Children;const hQ=hH(hL.Delimiters);hN(hP, hQ!=null&&hQ.$==1?hQ.$0[1]:null);}
function dj(hL){ return{$:2, $0:hL};}
function dk(hL){ return{$:6, $0:hL};}
function dl(hL){ return{$:5, $0:hL};}
function dm(hL){ return{$:4, $0:hL};}
function dn(hL, hM){ return{$:0, $0:hL, $1:hM};}
let do_1=hC((hL) => class hM extends m { static { do_1=hL(this);} equals;hash;count;data;set_Item(hN, hO){ this.set(hN, hO);} TryGetValue(hN, hO){ const hP=this.data[this.hash(hN)];if(hP==null)return false;else { const hQ=dy((hR) => { const hS=k(hR);return this.equals.apply(null, [hS[0], hN])?bW(hS[1]):null;}, hP);return hQ!=null&&hQ.$==1&&(hO.set(hQ.$0),true);} } RemoveKey(hN){ return this.remove(hN);} set(hN, hO){ const hP=this.hash(hN);const hQ=this.data[hP];if(hQ==null){ this.count=this.count+1;this.data[hP]=new Array({K:hN, V:hO});} else { const hR=dr((hS) => this.equals.apply(null, [(k(hS))[0], hN]), hQ);if(hR==null){ this.count=this.count+1;hQ.push({K:hN, V:hO});} else hQ[hR.$0]={K:hN, V:hO};} } remove(hN){ const hO=this.hash(hN);const hP=this.data[hO];if(hP==null)return false;else { const hQ=dA((hR) =>!this.equals.apply(null, [(k(hR))[0], hN]), hP);return g(hQ)<hP.length&&(this.count=this.count-1,this.data[hO]=hQ,true);} } GetEnumerator(){ return ez(dB(dO(this.data)));} ContainsKey(hN){ const hO=this.data[this.hash(hN)];return hO==null?false:dC((hP) => this.equals.apply(null, [(k(hP))[0], hN]), hO);} Item(hN){ return this.get(hN);} get Values(){ return new ga(this);} get Keys(){ return new gJ(this);} get(hN){ const hO=this.data[this.hash(hN)];return hO==null?eC():dF((hP) => { const hQ=k(hP);return this.equals.apply(null, [hQ[0], hN])?bW(hQ[1]):null;}, hO);} static New_5(){ return new this("New_5");} static New_6(hN, hO, hP){ return new this("New_6", hN, hO, hP);} constructor(hN, hO, hP, hQ){ if(hN=="New_5"){ hN="New_6";hO=[];hP=W;hQ=Z;} if(hN=="New_6"){ const hR=hO;const hS=hP;const hT=hQ;super();this.equals=hS;this.hash=hT;this.count=0;this.data=[];const hU=ew(hR);try { while(hU.MoveNext()){ const hV=hU.Current;this.set(hV.K, hV.V);} } finally { if(typeof hU=="object"&&a(hU))hU.Dispose();} } } });
let dp=hC((hL) => class hM extends m { static { dp=hL(this);} equals;hash;data;count;SAdd(hN){ return this.add(hN);} Contains(hN){ const hO=this.data[this.hash(hN)];return hO==null?false:this.arrContains(hN, hO);} add(hN){ const hO=this.hash(hN);const hP=this.data[hO];return hP==null?(this.data[hO]=[hN],this.count=this.count+1,true):this.arrContains(hN, hP)?false:(hP.push(hN),this.count=this.count+1,true);} arrContains(hN, hO){ let hP=true;let hQ=0;const hR=hO.length;while(hP&&hQ<hR)if(this.equals.apply(null, [hO[hQ], hN]))hP=false;else hQ=hQ+1;return!hP;} GetEnumerator(){ return ew(gK(this.data));} ExceptWith(hN){ const hO=ew(hN);try { while(hO.MoveNext())this.Remove(hO.Current);} finally { if(typeof hO=="object"&&a(hO))hO.Dispose();} } get Count(){ return this.count;} IntersectWith(hN){ const hO=new dp("New_4", hN, this.equals, this.hash);const hP=gK(this.data);for(let hR=0, hS=hP.length-1;hR<=hS;hR++){ const hQ=hP[hR];if(!hO.Contains(hQ))this.Remove(hQ);} } Remove(hN){ const hO=this.data[this.hash(hN)];return hO==null?false:this.arrRemove(hN, hO)&&(this.count=this.count-1,true);} CopyTo(hN, hO){ const hP=gK(this.data);for(let hQ=0, hR=hP.length-1;hQ<=hR;hQ++)i(hN, hQ+hO, hP[hQ]);} arrRemove(hN, hO){ let hP=true;let hQ=0;const hR=hO.length;while(hP&&hQ<hR)if(this.equals.apply(null, [hO[hQ], hN])){ hO.splice(hQ, 1);hP=false;} else hQ=hQ+1;return!hP;} static New_3(){ return new this("New_3");} static New_4(hN, hO, hP){ return new this("New_4", hN, hO, hP);} static New_2(hN){ return new this("New_2", hN);} constructor(hN, hO, hP, hQ){ if(hN=="New_3"){ hN="New_4";hO=[];hP=W;hQ=Z;} let hR;if(hN=="New_2"){ hR=hO;hN="New_4";hO=hR;hP=W;hQ=Z;} if(hN=="New_4"){ const hS=hO;const hT=hP;const hU=hQ;super();this.equals=hT;this.hash=hU;this.data=[];this.count=0;const hV=ew(hS);try { while(hV.MoveNext())this.add(hV.Current);} finally { if(typeof hV=="object"&&a(hV))hV.Dispose();} } } });
function dq(hL, hM){ const hN=[];for(let hP=0, hQ=hM.length-1;hP<=hQ;hP++){ const hO=hL(hM[hP]);if(hO==null){ } else hN.push(hO.$0);} return hN;}
function dr(hL, hM){ let hN=null;let hO=0;while(hO<hM.length&&hN==null){ hL(hM[hO])?hN=bW(hO):void 0;hO=hO+1;} return hN;}
function ds(hL){ if(hL instanceof Array)return hL.slice();else if(hL instanceof b3)return dt(hL);else { const hM=[];const hN=ew(hL);try { while(hN.MoveNext())hM.push(hN.Current);return hM;} finally { if(typeof hN=="object"&&a(hN))hN.Dispose();} } }
function dt(hL){ const hM=[];let hN=hL;while(!(hN.$==0)){ hM.push(cb(hN));hN=cc(hN);} return hM;}
function du(hL, hM, hN){ dz(hM, hN);const hO=new Array(hN.length);for(let hP=0, hQ=hN.length-1;hP<=hQ;hP++)hO[hP]=hL(hM[hP], hN[hP]);return hO;}
function dv(hL, hM){ let hN=true;let hO=0;while(hN&&hO<g(hM))if(hL(hM[hO]))hO=hO+1;else hN=false;return hN;}
function dw(hL, hM){ if(hL<0)j("Negative size given.");else null;const hN=new Array(hL);for(let hO=0, hP=hL-1;hO<=hP;hO++)hN[hO]=hM(hO);return hN;}
function dx(hL, hM){ for(let hN=0, hO=hM.length-1;hN<=hO;hN++)hL(hM[hN]);}
function dy(hL, hM){ let hN=null;let hO=0;while(hO<hM.length&&hN==null){ const hP=hL(hM[hO]);if(hP!=null&&hP.$==1)hN=hP;hO=hO+1;} return hN;}
function dz(hL, hM){ if(hL.length!==hM.length)j("The arrays have different lengths.");}
function dA(hL, hM){ const hN=[];for(let hO=0, hP=hM.length-1;hO<=hP;hO++)if(hL(hM[hO]))hN.push(hM[hO]);return hN;}
function dB(hL){ return Array.prototype.concat.apply([], ds(hL));}
function dC(hL, hM){ let hN=false;let hO=0;while(!hN&&hO<g(hM))if(hL(hM[hO]))hN=true;else hO=hO+1;return hN;}
function dD(hL, hM){ const hN=new Array(hM.length);for(let hO=0, hP=hM.length-1;hO<=hP;hO++)hN[hO]=hL(hM[hO]);return hN;}
function dE(hL, hM, hN){ let hO=hN;const hP=hM.length;for(let hQ=1, hR=hP;hQ<=hR;hQ++)hO=hL(hM[hP-hQ], hO);return hO;}
function dF(hL, hM){ const hN=dy(hL, hM);return hN==null?j("KeyNotFoundException"):hN.$0;}
function dG(hL){ gG((hM) => hM[0], gF((hM, hN) =>[hN, hM], hL).sort(u0034));}
function dH(hL, hM){ const hN=new Array(hL);for(let hO=0, hP=hL-1;hO<=hP;hO++)hN[hO]=hM;return hN;}
let dI=hC((hL) => class hM extends m { static { dI=hL(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(hN, hO, hP){ let hQ;const hR=dI.GetHolesFor(hN);const hS=(hQ=null,[hR.TryGetValue(hO, {get:() => hQ, set:(hU) => { hQ=hU;}}), hQ]);if(hS[0])return hS[1];else { const hT=hP();hR.set_Item(hO, hT);return hT;} } static GetHolesFor(hN){ let hO;const hP=(hO=null,[dI.initialized.TryGetValue(hN, {get:() => hO, set:(hR) => { hO=hR;}}), hO]);if(hP[0])return hP[1];else { const hQ=new do_1("New_5");dI.initialized.set_Item(hN, hQ);return hQ;} } static { dI.initialized=new do_1("New_5");dI.instances=new do_1("New_5");} });
function dJ(hL){ return hL==null?null:bW(hL);}
let dK=hC((hL) => { hF(o);return class hM extends o { static { dK=hL(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bW($(String, this.fillWith.View));} AddAttribute(hN, hO){(hN(hO))(fW(this.fillWith));} get AsChoiceView(){ return f6($(String, this.fillWith.View));} constructor(hN, hO){ super();this.name=hN;this.fillWith=hO;} };});
let dL=hC((hL) => { hF(o);return class hM extends o { static { dL=hL(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bW($((hN) =>(new Date(hN)).toLocaleString(), this.fillWith.View));} AddAttribute(hN, hO){(hN(hO))(fX(this.fillWith));} get AsChoiceView(){ return f6($((hN) =>(new Date(hN)).toLocaleString(), this.fillWith.View));} constructor(hN, hO){ super();this.name=hN;this.fillWith=hO;} };});
let dM=hC((hL) => { hF(o);return class hM extends o { static { dM=hL(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bW($(String, this.fillWith.View));} AddAttribute(hN, hO){(hN(hO))(fY(this.fillWith));} get AsChoiceView(){ return f6($(String, this.fillWith.View));} constructor(hN, hO){ super();this.name=hN;this.fillWith=hO;} };});
let dN=hC((hL) => { hF(o);return class hM extends o { static { dN=hL(this);} name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(hN, hO){ super();this.name=hN;this.fillWith=hO;} };});
function dO(hL){ let hM=[];let hN;for(var hO in hL)hM.push(hL[hO]);return hM;}
let dP=hC((hL) => { hF(o);return class hM extends o { static { dP=hL(this);} name;fillWith;get Name(){ return this.name;} ForTextView(){ return bW($((hN) => cP(",", hN), this.fillWith.View));} AddAttribute(hN, hO){(hN(hO))(fZ(this.fillWith));} get AsChoiceView(){ return f6($(String, this.fillWith.View));} constructor(hN, hO){ super();this.name=hN;this.fillWith=hO;} };});
let dQ=hC((hL) => class hM extends m { static { dQ=hL(this);} });
function dR(hL){ if(dU()==null){ dS("");dV("", null, globalThis.document.body, null);const hM=dW(globalThis.document.body, hL);const hN=globalThis.document.body;(((hP) => { bY.RunInPlace(true, hN, hP);})(hM));const hO=hM;dX(bW(hO));return hO;} else return dU().$0;}
function dS(hL){!dY()?(dZ(true),d0(globalThis.document.body, "")):void 0;d1().set_Item(hL, d2(""));}
function dT(hL, hM, hN){ let hO;const hP=(hO=null,[d2(hL).TryGetValue(hM==null?"":hM.$0, {get:() => hO, set:(hQ) => { hO=hQ;}}), hO]);return hP[0]?dW(hP[1].cloneNode(true), hN):(console.warn("Local template doesn't exist", hM),bY.Empty);}
function dU(){ return eW.RenderedFullDocTemplate;}
function dV(hL, hM, hN, hO){ const hP=new dp("New_3");function hQ(hX, hY){ while(true)switch(hX){ case 0:if(hY!==null){ const hZ=hY.nextSibling;if(W(hY.nodeType, Node.TEXT_NODE))eX(hY);else if(W(hY.nodeType, Node.ELEMENT_NODE))hS(hY);hY=hZ;} else return null;break;case 1:const h0=e5(hY.nodeName, bW(3), null).toLowerCase();const h1=h0.indexOf(".");const h2=h1===-1?[hL, h0]:[e5(h0, null, bW(h1-1)), e5(h0, bW(h1+1), null)];const h3=h2[1];const h4=h2[0];if(h4!=""&&!d1().ContainsKey(h4))return eY(h3);else { if(h4==""&&hO!=null)hO.$0(h3);const h5=d1().Item(h4);if(!h5.ContainsKey(h3))return eY(h3);else { const h6=h5.Item(h3);const h7=h6.cloneNode(true);const h8=new dp("New_3");const h9=new do_1("New_5");const h_=hY.attributes;for(let ii=0, ij=h_.length-1;ii<=ij;ii++){ const h$=h_.item(ii).name.toLowerCase();const ia=h_.item(ii).nodeValue;let ib=ia==""?h$:ia.toLowerCase();h9.set_Item(h$, ib);if(!h8.SAdd(h$))console.warn("Hole mapped twice", h$);} for(let ik=0, il=hY.childNodes.length-1;ik<=il;ik++){ const ic=hY.childNodes[ik];if(W(ic.nodeType, Node.ELEMENT_NODE))if(!h8.SAdd(ic.nodeName.toLowerCase()))console.warn("Hole filled twice", h3);} const id=hY.childNodes.length===1&&W(hY.firstChild.nodeType, Node.TEXT_NODE);if(id){ const ie=eZ(h7, hY.firstChild.textContent, h3);const if_1=((im) =>(in_1) => im.SAdd(in_1))(h8);let ig=((im) =>(in_1) => { if(in_1!=null)im(in_1.$0);})((im) => { if_1(im);});ig(ie);} e0(h7, h8);if(!id){ for(let im=0, in_1=hY.childNodes.length-1;im<=in_1;im++){ const ih=hY.childNodes[im];if(W(ih.nodeType, Node.ELEMENT_NODE))if(ih.hasAttributes())e1(h7, ih);else hR(h7, ih);} } e2(h7, h9);e3(h7, hY.parentNode, hY);hY.parentNode.removeChild(hY);return;} } break;} } function hR(hX, hY){ const hZ=hY.nodeName.toLowerCase();const h0=(h4, h5) => { if(hZ=="title"&&hY.hasChildNodes()){ const h6=e6(hY.textContent);hY.removeChild(hY.firstChild);while(h6.hasChildNodes())hY.appendChild(h6.firstChild);} hS(hY);return e3(hY, h4, h5);};d3(hX, "[ws-attr-holes]", (h4) => { const h5=cQ(h4.getAttribute("ws-attr-holes"), [" "], 1);for(let h9=0, h_=h5.length-1;h9<=h_;h9++){ const h6=f(h5, h9);let h7=new RegExp("\\${"+hZ+"}", "ig");let h8=h4.getAttribute(h6).replace(h7, hY.textContent);h4.setAttribute(h6, h8);} });const h1=hX.querySelector("[ws-hole="+hZ+"]");if(W(h1, null)){ const h2=hX.querySelector("[ws-replace="+hZ+"]");if(W(h2, null)){ const h3=hX.querySelector("slot[name="+hZ+"]");return hX.tagName.toLowerCase()=="template"?(h0(h3.parentNode, h3),void h3.parentNode.removeChild(h3)):null;} else { h0(h2.parentNode, h2);h2.parentNode.removeChild(h2);return;} } else { while(h1.hasChildNodes())h1.removeChild(h1.lastChild);h1.removeAttribute("ws-hole");return h0(h1, null);} } function hS(hX){ if(!hX.hasAttribute("ws-preserve"))if(cO(hX.nodeName.toLowerCase(), "ws-"))hU(hX);else { e4(hX);hT(hX.firstChild);} } function hT(hX){ return hQ(0, hX);} function hU(hX){ return hQ(1, hX);} function hV(hX){ while(true){ const hY=hX.querySelector("[ws-template]");if(W(hY, null)){ const hZ=hX.querySelector("[ws-children-template]");if(W(hZ, null)){ const h0=hX.querySelectorAll("template[id]");for(let h6=1, h7=h0.length-1;h6<=h7;h6++){ const h1=h0[h6];if(hP.Contains(h1)){ } else { dV(hL, bW(h1.getAttribute("id")), h1, null);hP.SAdd(h1);} } const h2=hX.querySelectorAll("template[name]");for(let h8=1, h9=h2.length-1;h8<=h9;h8++){ const h3=h2[h8];if(hP.Contains(h3)){ } else { dV(hL, bW(h3.getAttribute("name")), h3, null);hP.SAdd(h3);} } return null;} else { const h4=hZ.getAttribute("ws-children-template");hZ.removeAttribute("ws-children-template");dV(hL, bW(h4), hZ, null);hX=hX;} } else { const h5=hY.getAttribute("ws-template");(d4(hL, bW(h5), hY))(null);hX=hX;} } } const hW=(hM==null?"":hM.$0).toLowerCase();d2(hL).set_Item(hW, hN);if(hN.hasChildNodes()){ hV(hN);hT(hN.firstChild);} }
function dW(hL, hM){ let hN;const hO=d5(hL, bn(hM, d6().Values));const hP=hO[1];const hQ=hO[0];const hR=hQ.Els;return!W(hR, null)&&hR.length===1&&(f(hR, 0)instanceof Node&&(W(f(hR, 0).nodeType, Node.ELEMENT_NODE)&&(hN=f(hR, 0),true)))?ff.TreeNode(hQ, hP):bY.Mk(dk(hQ), hP);}
function dX(hL){ eW.RenderedFullDocTemplate=hL;}
function dY(){ return eW.LocalTemplatesLoaded;}
function dZ(hL){ eW.LocalTemplatesLoaded=hL;}
function d0(hL, hM){ const hN=d2(hM);const hO=new do_1("New_5");const hP=hL.querySelectorAll("[ws-template]");for(let h1=0, h2=hP.length-1;h1<=h2;h1++){ const hQ=hP[h1];const hR=hQ.getAttribute("ws-template").toLowerCase();hQ.removeAttribute("ws-template");hO.set_Item(hR, d7(hQ));} const hS=hL.querySelectorAll("[ws-children-template]");for(let h3=0, h4=hS.length-1;h3<=h4;h3++){ const hT=hS[h3];const hU=hT.getAttribute("ws-children-template").toLowerCase();hT.removeAttribute("ws-children-template");hO.set_Item(hU, d8(hT));} const hV=hL.querySelectorAll("template[id]");for(let h5=0, h6=hV.length-1;h5<=h6;h5++){ const hW=hV[h5];hO.set_Item(hW.getAttribute("id").toLowerCase(), d9(hW));} const hX=hL.querySelectorAll("template[name]");for(let h7=0, h8=hX.length-1;h7<=h8;h7++){ const hY=hX[h7];hO.set_Item(hY.getAttribute("name").toLowerCase(), d9(hY));} const hZ=new dp("New_3");function h0(h9){ if(!hN.ContainsKey(h9)){ let h_;const h$=(h_=null,[hO.TryGetValue(h9, {get:() => h_, set:(ia) => { h_=ia;}}), h_]);if(h$[0]){ hZ.SAdd(h9);hO.RemoveKey(h9);dV(hM, bW(h9), h$[1], bW(h0));} else console.warn(hZ.Contains(h9)?"Encountered loop when instantiating "+h9:"Local template does not exist: "+h9);} } while(hO.count>0)h0(bx(hO.Keys));}
function d1(){ return eW.LoadedTemplates;}
function d2(hL){ let hM;const hN=(hM=null,[d1().TryGetValue(hL, {get:() => hM, set:(hP) => { hM=hP;}}), hM]);if(hN[0])return hN[1];else { const hO=new do_1("New_5");d1().set_Item(hL, hO);return hO;} }
function d3(hL, hM, hN){ fa(hL, hM, (hO) => { if(hO.closest("[ws-preserve]")==null)hN(hO);});}
function d4(hL, hM, hN){ const hO=d7(hN);return(hP) => { dV(hL, hM, hO, hP);};}
function d5(hL, hM){ let hN;const hO=[];const hP=[];const hQ=[];const hR=[];const hS=new do_1("New_5");const hT=ew(hM);try { while(hT.MoveNext()){ const hU=hT.Current;hS.set_Item(hU.Name, hU);} } finally { if(typeof hT=="object"&&a(hT))hT.Dispose();} const hV=fb(hL);const hW=(h3, h4) => { const h5=fy(h3, h4);hP.push(fz(h5));hQ.push([h3, h5]);const h6=hH(h5.OnAfterRender);if(h6==null)return null;else { const h7=h6.$0;hR.push(() => { h7(h3);});return;} };const hX=(h3) => { let h4;const h5=(h4=null,[hS.TryGetValue(h3, {get:() => h4, set:(h8) => { h4=h8;}}), h4]);if(h5[0]){ const h6=h5[1];if(h6 instanceof U)return bW(h6.Value);else if(h6 instanceof V)return bW(bY.TextNode(h6.Value));else { const h7=h6.ForTextView();return h7==null?null:bW(bY.TextView(h7.$0));} } else return null;};d3(hL, "[ws-hole]", (h3) => { const h4=h3.getAttribute("ws-hole");h3.removeAttribute("ws-hole");while(h3.hasChildNodes())h3.removeChild(h3.lastChild);const h5=hX(h4);if(h5!=null&&h5.$==1){ const h6=h5.$0;c4(h3, h6.docNode);hO.push(eV.New(fA(h3), h6.docNode, null, h3, eK(), null));hP.push(h6.updates);} });d3(hL, "[ws-replace]", (h3) => { const h4=hX(h3.getAttribute("ws-replace"));if(h4!=null&&h4.$==1){ const h5=h4.$0;const h6=h3.parentNode;const h7=globalThis.document.createTextNode("");h6.replaceChild(h7, h3);const h8=c5(h7, h5.docNode);const h9=dr((h_) => h3===h_, hV);if(h9==null){ } else i(hV, h9.$0, h5.docNode);hO.push(eV.New(fA(h6), h5.docNode, bW([h8, h7]), h6, eK(), null));hP.push(h5.updates);} });let hY=false;d3(hL, "slot", (h3) => { const h4=h3.getAttribute("name");const h5=h4==""||h4==null?"default":h4.toLowerCase();if(hY&&h5=="default"||!W(hL.parentElement, null)){ } else { while(h3.hasChildNodes())h3.removeChild(h3.lastChild);if(h5=="default")hY=true;const h6=hX(h5);if(h6!=null&&h6.$==1){ const h7=h6.$0;c4(h3, h7.docNode);hO.push(eV.New(fA(h3), h7.docNode, null, h3, eK(), null));hP.push(h7.updates);} } });d3(hL, "[ws-attr]", (h3) => { let h4;const h5=h3.getAttribute("ws-attr");h3.removeAttribute("ws-attr");const h6=(h4=null,[hS.TryGetValue(h5, {get:() => h4, set:(h8) => { h4=h8;}}), h4]);if(h6[0]){ const h7=h6[1];if(h7 instanceof fP)hW(h3, h7.Value);else console.warn("Attribute hole filled with non-attribute data", h5);} });d3(hL, "[ws-on]", (h3) => { hW(h3, f2.Concat(dq((h4) => { let h5;const h6=cQ(h4, [":"], 1);const h7=(h5=null,[hS.TryGetValue(f(h6, 1), {get:() => h5, set:(h9) => { h5=h9;}}), h5]);if(h7[0]){ const h8=h7[1];return h8 instanceof fQ?bW(fR(f(h6, 0), h8.Value)):h8 instanceof cM?bW(f2.Handler(f(h6, 0), h8.Value)):(console.warn("Event hole on"+f(h6, 0)+" filled with non-event data", f(h6, 1)),null);} else return null;}, cQ(h3.getAttribute("ws-on"), [" "], 1))));h3.removeAttribute("ws-on");});d3(hL, "[ws-onafterrender]", (h3) => { let h4;const h5=h3.getAttribute("ws-onafterrender");const h6=(h4=null,[hS.TryGetValue(h5, {get:() => h4, set:(h8) => { h4=h8;}}), h4]);if(h6[0]){ const h7=h6[1];if(h7 instanceof f3){ h3.removeAttribute("ws-onafterrender");hW(h3, fS(h7.Value));} else if(h7 instanceof f4){ h3.removeAttribute("ws-onafterrender");hW(h3, fS(h7.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", h5);} });d3(hL, "[ws-var]", (h3) => { let h4;const h5=h3.getAttribute("ws-var");h3.removeAttribute("ws-var");const h6=(h4=null,[hS.TryGetValue(h5, {get:() => h4, set:(h7) => { h4=h7;}}), h4]);if(h6[0])h6[1].AddAttribute((h7) =>(h8) => hW(h7, h8), h3);});const hZ=() => { d$("[ws-dom]", (h3) => { let h4;let h5;let h6;const h7=(h4=null,[hS.TryGetValue(h3.getAttribute("ws-dom").toLowerCase(), {get:() => h4, set:(h$) => { h4=h$;}}), h4]);if(h7[0]){ const h8=h7[1];if(h8 instanceof dN){ const h9=h8.Value;h3.removeAttribute("ws-dom");h5=h3;const h_=new MutationObserver((h$, ia) => { dx((ib) => { ib.removedNodes.forEach(hI((ic) => ic[0]===h5&&ib.addedNodes.length!==1?(h9.SetFinal(null),ia.disconnect()):null), null);}, h$);});if(h3.parentElement!==null)h_.observe(h3.parentElement, (h6={},h6.childList=true,h6));h9.Set(bW(h3));bb((h$) => { if(h$!=null&&h$.$==1){ const ia=h$.$0;if(h5===ia){ } else { h5.replaceWith(ia);h5=ia;} } else { h5.remove();h_.disconnect();} }, h9.View);} } });};d3(hL, "[ws-attr-holes]", (h3) => { const h4=new RegExp(d_(), "g");const h5=cQ(h3.getAttribute("ws-attr-holes"), [" "], 1);h3.removeAttribute("ws-attr-holes");for(let h6=0, h7=h5.length-1;h6<=h7;h6++)((() => { let h8;const h9=f(h5, h6);const h_=h3.getAttribute(h9);let h$=null;let ia=0;const ib=[];while(h$=h4.exec(h_),h$!==null){ const ic=e5(h_, bW(ia), bW(h4.lastIndex-f(h$, 0).length-1));ia=h4.lastIndex;ib.push([ic, f(h$, 1)]);} const id=e5(h_, bW(ia), null);h4.lastIndex=0;const ie=dE((ij, ik) =>(((il) => { const im=il[0];const in_1=il[1];return(io) => { let ip;const iq=io[0];const ir=io[1];const is=(ip=null,[hS.TryGetValue(in_1, {get:() => ip, set:(iu) => { ip=iu;}}), ip]);const it=is[0]?is[1].AsChoiceView:f5("");return it.$==1?[im, b3.Cons(iq==""?it.$0:$((iu) => iu+iq, it.$0), ir)]:[im+it.$0+iq, ir];};})(ij))(ik), ib, [id, b3.Empty]);if(ie[1].$==1){ if(ie[1].$1.$==1){ if(ie[1].$1.$1.$==1){ if(ie[1].$1.$1.$1.$==0){ const if_1=ie[0];h8=fT(h9, bi((ij, ik, il) => if_1+ij+ik+il, ie[1].$0, ie[1].$1.$0, ie[1].$1.$1.$0));} else { const ig=ie[0];h8=fT(h9, $((ij) => ig+cP("", ij), bj(ie[1])));} } else { const ih=ie[0];h8=fT(h9, ba((ij, ik) => ih+ij+ik, ie[1].$0, ie[1].$1.$0));} } else if(ie[0]=="")h8=fT(h9, ie[1].$0);else { const ii=ie[0];h8=fT(h9, $((ij) => ii+ij, ie[1].$0));} } else h8=f2.Create(h9, ie[0]);return hW(h3, h8);})());});const h0=hR.length==0?bW(() => { hZ();}):bW((h3) => { hZ();dx((h4) => { h4(h3);}, hR);});const h1=!W(hV, null)&&hV.length===1&&(f(hV, 0)instanceof Node&&(f(hV, 0)instanceof Element&&(hN=f(hV, 0),true)))?bW(hN):null;let h2=hJ({Els:hV, Dirty:true, Holes:hO, Attrs:hQ, Render:h0?h0.$0:void 0, El:h1?h1.$0:void 0}, ["Render", "El"]);return[h2, f7(bh(), bk, hP)];}
function d6(){ return eW.GlobalHoles;}
function d7(hL){ hL.removeAttribute("ws-template");const hM=hL.getAttribute("ws-replace");if(hM==null){ } else { hL.removeAttribute("ws-replace");const hN=hL.parentNode;if(W(hN, null)){ } else { const hO=globalThis.document.createElement(hL.tagName);hO.setAttribute("ws-replace", hM);hN.replaceChild(hO, hL);} } const hP=globalThis.document.createElement("div");hP.appendChild(hL);return hP;}
function d8(hL){ const hM=globalThis.document.createElement("div");while(hL.hasChildNodes())hM.appendChild(hL.firstChild);return hM;}
function d9(hL){ const hM=globalThis.document.createElement("div");const hN=hL.content;for(let hO=0, hP=hN.childNodes.length-1;hO<=hP;hO++)hM.appendChild(hN.childNodes[hO].cloneNode(true));return hM;}
function d_(){ return eW.TextHoleRE;}
function d$(hL, hM){ fc(hL, (hN) => { if(hN.closest("[ws-preserve]")==null)hM(hN);});}
let ea=hC((hL) => class hM { static { ea=hL(this);} Segments;QueryArgs;FormData;Method;Body;ToLink(){ return eE(this.Segments, this.QueryArgs);} static FromHash(hN, hO){ const hP=hN.indexOf("#");if(hP===-1)return ea.Empty;else { const hQ=hN.substring(hP+1);return hO!=null&&hO.$0?hQ==""||hQ=="/"?ea.Empty:cO(hQ, "/")?ea.FromUrl(hQ.substring(1), bW(true)):ea.Segment_2(hQ):ea.FromUrl(hN.substring(hP), bW(false));} } static Combine(hN){ let hO;let hP;let hQ;let hR;const hS=ds(hN);const hT=g(hS);if(hT===0)return ea.Empty;else if(hT===1)return f(hS, 0);else { hO=null;hP=null;const hU=[];hQ=new fs("New", []);hR=new fs("New", []);dx((hV) => { const hW=hV.Method;if(hW!=null&&hW.$==1)hO=hW;const hX=hV.Body;if(hX==null){ } else hP=hX;hQ=fp((hY, hZ, h0) => h0.Add_1(hY, hZ), hQ, hV.QueryArgs);hR=fp((hY, hZ, h0) => h0.Add_1(hY, hZ), hR, hV.FormData);b9((hY) => { hU.push(hY);}, hV.Segments);}, hS);return ea.New(b7(hU), hQ, hR, hO, hP);} } static Segment(hN, hO){ return ea.New(hN, ea.Empty.QueryArgs, ea.Empty.FormData, hO, ea.Empty.Body);} static get Empty(){ return ea.New(b3.Empty, new fs("New", []), new fs("New", []), null, bW(null));} static FromUrl(hN, hO){ const hP=hN.indexOf("?");const hQ=hP===-1?[hN, new fs("New", [])]:[cR(hN, 0, hP), ea.ParseQuery(hN.substring(hP+1))];return ea.New(b6(cQ(hQ[0], ["/"], hO!=null&&hO.$0?0:1)), hQ[1], ea.Empty.FormData, ea.Empty.Method, ea.Empty.Body);} static Segment_2(hN){ return ea.New(b6([hN]), ea.Empty.QueryArgs, ea.Empty.FormData, ea.Empty.Method, ea.Empty.Body);} static ParseQuery(hN){ return fr(ds(dq((hO) => { const hP=cQ(hO, ["="], 0);return!W(hP, null)&&hP.length===2?bW([f(hP, 0), f(hP, 1)]):((((hQ) =>(hR) => hQ("wrong format for query argument: "+fu(hR)))((hQ) => { console.log(hQ);}))(hO),null);}, cQ(hN, ["&"], 0))));} static New(hN, hO, hP, hQ, hR){ return hG(ea, {Segments:hN, QueryArgs:hO, FormData:hP, Method:hQ, Body:hR});} });
function eb(hL){ let hM;const hN=hL.s;if(hN==null||(hN!=null&&hN.$==2?(hM=hN.$1,false):hN!=null&&hN.$==3?(hM=hN.$1,false):true))void 0;else { hL.s=null;for(let hP=0, hQ=g(hM)-1;hP<=hQ;hP++){ const hO=f(hM, hP);if(typeof hO=="object")(((hR) => { eb(hR);})(hO));else hO();} } }
let ec=hC((hL) => { hF(S);return class hM extends S { static { ec=hL(this);} isConst;current;snap;view;id;get View(){ return this.view;} Get(){ return this.current;} Set(hN){ if(this.isConst)(((hO) => hO("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((hO) => { console.log(hO);}));else { eb(this.snap);this.current=hN;this.snap={s:eH(hN, [])};} } SetFinal(hN){ if(this.isConst)(((hO) => hO("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((hO) => { console.log(hO);}));else { eb(this.snap);this.isConst=true;this.current=hN;this.snap={s:eI(hN)};} } UpdateMaybe(hN){ const hO=hN(this.Get());if(hO!=null&&hO.$==1)this.Set(hO.$0);} constructor(hN, hO, hP){ super();this.isConst=hN;this.current=hP;this.snap=hO;this.view=() => this.snap;this.id=eK();} };});
function ed(hL){ return new eN(hL);}
function ee(hL){ return(hM) => { try {(hL())(hM);} catch(hN){ hM.k(eQ(hN));} };}
function ef(hL, hM){ return hL()?eg(hM, () => ef(hL, hM)):ek();}
function eg(hL, hM){ return el((hN) => { hL(eP((hO) => { if(hO.$==0){ const hP=hO.$0;eq().Fork(() => { try {(hM(hP))(hN);} catch(hQ){ hN.k(eQ(hQ));} });} else eq().Fork(() => { hN.k(hO);});}, hN.ct));});}
function eh(hL){ return(hM) => { let hN;let hO;hN=void 0;hO=void 0;hN=setTimeout(() => { hO.Dispose();eq().Fork(() => { hM.k(eR(null));});}, hL);hO=em(hM.ct, () => { clearTimeout(hN);eq().Fork(() => { en(hM);});});};}
function ei(){ return eT.Zero;}
function ej(hL, hM){ const hN=(eo())[0];const hO=hM==null?hN:hM.$0;eq().Fork(() => { if(!hO.c)hL(eP((hP) => { if(hP.$==1)ep(hP.$0);}, hO));});}
function ek(hL){ return(hM) => { hM.k(eR(hL));};}
function el(hL){ return(hM) => { if(hM.ct.c)en(hM);else hL(hM);};}
function em(hL, hM){ if(hL===er())return{Dispose(){ return null;}};else { const hN=hL.r.push(hM)-1;return{Dispose(){ return i(hL.r, hN, () => { });}};} }
function en(hL){ hL.k(eS(new fv("New", hL.ct)));}
function eo(){ return eT.defCTS;}
function ep(hL){ console.log("WebSharper: Uncaught asynchronous exception", hL);}
function eq(){ return eT.scheduler;}
function er(){ return eT.noneCT;}
function es(hL){ return(hM) => { const hN=[false];const hO=(hP) => { if(hN[0])j("A continuation provided by Async.FromContinuations was invoked multiple times");else { hN[0]=true;eq().Fork(hP);} };hL((hP) => { hO(() => { hM.k(eR(hP));});}, (hP) => { hO(() => { hM.k(eQ(hP));});}, (hP) => { hO(() => { hM.k(eS(hP));});});};}
function et(hL){ return() =>(hM) => { const hN=[];const hO=hL();b9((hP) => { hN.push(hO(hP));}, hM);return hN;};}
function eu(){ return() =>(hL) => hL;}
function ev(hL){ return() =>(hM) => { const hN=hL();return b_(g(hM), (hO) => hN(f(hM, hO)));};}
function ew(hL){ return hL instanceof Array?ex(hL):W(typeof hL, "string")?ey(hL):hL.GetEnumerator();}
function ex(hL){ return new eD(0, null, (hM) => { const hN=hM.s;return hN<g(hL)&&(hM.c=f(hL, hN),hM.s=hN+1,true);}, void 0);}
function ey(hL){ return new eD(0, null, (hM) => { const hN=hM.s;return hN<hL.length&&(hM.c=hL[hN],hM.s=hN+1,true);}, void 0);}
function ez(hL){ return hL instanceof Array?ex(hL):W(typeof hL, "string")?ey(hL):"GetEnumerator0"in hL?hL.GetEnumerator0():hL.GetEnumerator();}
function eA(hL, hM){ const hN=(hP, hQ) => { const hR=hL==null?{}:new hL();const hS=f(hM, hP);const hT=hS[0];return hT!=null&&hT.$==1?hS[0].$0:(hR.$=hP,bo((hU, hV) => { hR["$"+String(hU)]=hV;}, hQ),hR);};const hO=ds(bp((hP) => { const hQ=hP[0];const hR=hP[1];const hS=hR[2];return br((hT) =>[hQ, hT[0], hT[1], hS], hR[1]);}, bq(hM)));return u0038((hP) => bp((hQ) => { const hR=hQ[0];if(eB(hQ[1], hP.Method)){ const hS=eO(b6(hQ[2]), hP.Segments);if(hS==null)return[];else { const hT=hS.$0;const hU=b6(hQ[3]);if(hU.$==0)return[[ea.New(hT, hP.QueryArgs, hP.FormData, hP.Method, hP.Body), hN(hR, [])]];else { function hV(hW){ return(hX) =>(hY) => { if(hW.$==1){ const hZ=hW.$1;return bp((h0) =>((hV(hZ))(h0[0]))(b3.Cons(h0[1], hY)), hW.$0.Parse(hX));} else return[[hX, hN(hR, dt(b$(hY)))]];};} return((hV(hU))(ea.New(hT, hP.QueryArgs, hP.FormData, hP.Method, hP.Body)))(b3.Empty);} } } else return[];}, hO), (hP) => { const hQ=bs((hX) => { const hY=hX[0];return hY!=null&&hY.$==1&&W(hP, hY.$0);}, hM);const hR=hQ!=null&&hQ.$==1?hQ.$0:hP.$;const hS=f(hM, hR);const hT=hS[2];const hU=f(hS[1], 0);const hV=[ea.Segment(b6(hU[1]), hU[0])];if(hT.length==0)return bW(hV);else { const hW=du((hX, hY) => hY.Write(hX), dw(g((f(hM, hR))[2]), (hX) => hP["$"+String(hX)]), hT);return dv((hX) => hX!=null, hW)?bW(bn(hV, bp((hX) => hX.$0, hW))):null;} });}
function eB(hL, hM){ return hM!=null&&hM.$==1?hL!=null&&hL.$==1?W(hM.$0, hL.$0):true:!(hL!=null&&hL.$==1);}
function eC(){ throw new gS("New");}
let eD=hC((hL) => class hM extends m { static { eD=hL(this);} s;c;n;d;e;MoveNext(){ const hN=this.n(this);this.e=hN?1:2;return hN;} get Current(){ return this.e===1?this.c:this.e===0?j("Enumeration has not started. Call MoveNext."):j("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(hN, hO, hP, hQ){ super();this.s=hN;this.c=hO;this.n=hP;this.d=hQ;this.e=0;} });
function eE(hL, hM){ const hN=hM.IsEmpty?"":"?"+eG(hM);return"/"+eF(hL)+hN;}
function eF(hL){ let hM;const hN=[];hM=true;b9((hO) => { if(!cU(hO)){ hM?hM=false:hN.push("/");hN.push(hO);} }, hL);return cV("", ds(hN));}
function eG(hL){ return cP("&", br((hM) => hM[0]+"="+hM[1], fq(hL)));}
function eH(hL, hM){ return{$:2, $0:hL, $1:hM};}
function eI(hL){ return{$:0, $0:hL};}
function eJ(hL, hM){ return{$:3, $0:hL, $1:hM};}
function eK(){ eL(eM()+1);return eM();}
function eL(hL){ gC.counter=hL;}
function eM(){ return gC.counter;}
let eN=hC((hL) => class hM extends m { static { eN=hL(this);} init;SRemoveIf(hN, hO){ return dA((hP) =>!hN(hP), hO);} SSetAt(hN, hO, hP){ i(hP, hN, hO);return hP;} SAppend(hN, hO){ hO.push(hN);return hO;} SInit(){ return this.init;} constructor(hN){ super();this.init=hN;} });
function eO(hL, hM){ let hN;switch(hL.$==1?hM.$==1?W(hL.$0, hM.$0)?(hN=[hM.$0, hM.$1, hL.$0, hL.$1],1):2:2:0){ case 0:return bW(hM);case 1:return eO(hN[3], hN[1]);case 2:return null;} }
function eP(hL, hM){ return{k:hL, ct:hM};}
function eQ(hL){ return{$:1, $0:hL};}
function eR(hL){ return{$:0, $0:hL};}
function eS(hL){ return{$:2, $0:hL};}
let eT=hC((hL) => class hM { static { eT=hL(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=eU(false, []);this.scheduler=new ft();this.defCTS=[new fw()];this.Zero=ek();this.GetCT=(hN) => { hN.k(eR(hN.ct));};} });
function eU(hL, hM){ return{c:hL, r:hM};}
let eV=hC((hL) => class hM { static { eV=hL(this);} Attr;Children;Delimiters;El;ElKey;Render;Equals(hN){ return this.ElKey===hN.ElKey;} GetHashCode(){ return this.ElKey;} static New(hN, hO, hP, hQ, hR, hS){ const hT={Attr:hN, Children:hO, El:hQ, ElKey:hR};let hU=(hE(hT, "Delimiters", hP),hE(hT, "Render", hS),hT);return hG(eV, hU);} });
let eW=hC((hL) => class hM { static { eW=hL(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new do_1("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new do_1("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function eX(hL){ let hM=null;let hN=0;const hO=hL.textContent;const hP=new RegExp(d_(), "g");while(hM=hP.exec(hO),hM!==null){ hL.parentNode.insertBefore(globalThis.document.createTextNode(e5(hO, bW(hN), bW(hP.lastIndex-f(hM, 0).length-1))), hL);hN=hP.lastIndex;const hQ=globalThis.document.createElement("span");hQ.setAttribute("ws-replace", f(hM, 1).toLowerCase());hL.parentNode.insertBefore(hQ, hL);} hP.lastIndex=0;hL.textContent=e5(hO, bW(hN), null);}
function eY(hL){ console.warn("Instantiating non-loaded template", hL);}
function eZ(hL, hM, hN){ const hO=hL.querySelector("[ws-replace]");return W(hO, null)?(console.warn("Filling non-existent text hole", hN),null):(hO.parentNode.replaceChild(globalThis.document.createTextNode(hM), hO),bW(hO.getAttribute("ws-replace")));}
function e0(hL, hM){ const hN=(hO) => { d3(hL, "["+hO+"]", (hP) => { if(!hM.Contains(hP.getAttribute(hO)))hP.removeAttribute(hO);});};hN("ws-attr");hN("ws-onafterrender");hN("ws-var");d3(hL, "[ws-hole]", (hO) => { if(!hM.Contains(hO.getAttribute("ws-hole"))){ hO.removeAttribute("ws-hole");while(hO.hasChildNodes())hO.removeChild(hO.lastChild);} });d3(hL, "[ws-replace]", (hO) => { if(!hM.Contains(hO.getAttribute("ws-replace")))hO.parentNode.removeChild(hO);});d3(hL, "[ws-on]", (hO) => { hO.setAttribute("ws-on", cP(" ", dA((hP) => hM.Contains(f(cQ(hP, [":"], 1), 1)), cQ(hO.getAttribute("ws-on"), [" "], 1))));});d3(hL, "[ws-attr-holes]", (hO) => { const hP=cQ(hO.getAttribute("ws-attr-holes"), [" "], 1);for(let hT=0, hU=hP.length-1;hT<=hU;hT++){ const hQ=f(hP, hT);let hR=new RegExp(d_(), "g");let hS=hO.getAttribute(hQ).replace(hR, (hV, hW) => hM.Contains(hW)?hV:"");hO.setAttribute(hQ, hS);} });}
function e1(hL, hM){ e4(hM);const hN=hM.nodeName.toLowerCase();const hO=hL.querySelector("[ws-attr="+hN+"]");if(W(hO, null))console.warn("Filling non-existent attr hole", hN);else { hO.removeAttribute("ws-attr");for(let hQ=0, hR=hM.attributes.length-1;hQ<=hR;hQ++){ const hP=hM.attributes.item(hQ);if(hP.name=="class"&&hO.hasAttribute("class"))hO.setAttribute("class", hO.getAttribute("class")+" "+hP.nodeValue);else hO.setAttribute(hP.name, hP.nodeValue);} } }
function e2(hL, hM){ const hN=(hO) => { d3(hL, "["+hO+"]", (hP) => { let hQ;const hR=(hQ=null,[hM.TryGetValue(hP.getAttribute(hO).toLowerCase(), {get:() => hQ, set:(hS) => { hQ=hS;}}), hQ]);if(hR[0])hP.setAttribute(hO, hR[1]);});};hN("ws-hole");hN("ws-replace");hN("ws-attr");hN("ws-onafterrender");hN("ws-var");d3(hL, "[ws-on]", (hO) => { hO.setAttribute("ws-on", cP(" ", dD((hP) => { let hQ;const hR=cQ(hP, [":"], 1);const hS=(hQ=null,[hM.TryGetValue(f(hR, 1), {get:() => hQ, set:(hT) => { hQ=hT;}}), hQ]);return hS[0]?f(hR, 0)+":"+hS[1]:hP;}, cQ(hO.getAttribute("ws-on"), [" "], 1))));});d3(hL, "[ws-attr-holes]", (hO) => { const hP=cQ(hO.getAttribute("ws-attr-holes"), [" "], 1);for(let hQ=0, hR=hP.length-1;hQ<=hR;hQ++)((() => { const hS=f(hP, hQ);return hO.setAttribute(hS, by((hT, hU) => { const hV=k(hU);return hT.replace(new RegExp("\\${"+hV[0]+"}", "ig"), "${"+hV[1]+"}");}, hO.getAttribute(hS), hM));})());});}
function e3(hL, hM, hN){ while(true){ if(hL.hasChildNodes())hN=hM.insertBefore(hL.lastChild, hN);else return null;} }
function e4(hL){ const hM=hL.attributes;const hN=[];const hO=[];const hP=[];for(let hU=0, hV=hM.length-1;hU<=hV;hU++){ const hQ=hM.item(hU);if(cO(hQ.nodeName, "ws-on")&&hQ.nodeName!="ws-onafterrender"&&hQ.nodeName!="ws-on"){ hN.push(hQ.nodeName);hO.push(e5(hQ.nodeName, bW("ws-on".length), null)+":"+hQ.nodeValue.toLowerCase());} else if(!cO(hQ.nodeName, "ws-")&&(new RegExp(d_())).test(hQ.nodeValue)){ let hR=new RegExp(d_(), "g");let hS=hQ.nodeValue.replace(hR, (hW, hX) =>"${"+hX.toLowerCase()+"}");hQ.nodeValue=hS;hP.push(hQ.nodeName);} else void 0;} if(!(hO.length==0))hL.setAttribute("ws-on", cP(" ", hO));if(!(hP.length==0))hL.setAttribute("ws-attr-holes", cP(" ", hP));const hT=(hW) => { const hX=hL.getAttribute(hW);if(hX==null){ } else hL.setAttribute(hW, hX.toLowerCase());};hT("ws-hole");hT("ws-replace");hT("ws-attr");hT("ws-onafterrender");hT("ws-var");dx((hW) => { hL.removeAttribute(hW);}, hN);}
function e5(hL, hM, hN){ if(hM==null){ if(hN!=null&&hN.$==1){ const hO=hN.$0;return hO<0?"":hL.slice(0, hO+1);} else return"";} else if(hN==null)return hL.slice(hM.$0);else { const hP=hN.$0;return hP<0?"":hL.slice(hM.$0, hP+1);} }
function e6(hL){ const hM=globalThis.document.createElement("div");if(!e7().test(hL)){ hM.appendChild(globalThis.document.createTextNode(hL));return hM;} else { const hN=e$().exec(hL);const hO=W(hN, null)?"":f(hN, 1).toLowerCase();const hP=(e8())[hO];const hQ=hP?hP:e9();hM.innerHTML=hQ[1]+hL.replace(e_(), "<$1></$2>")+hQ[2];function hR(hS, hT){ while(true){ if(hT===0)return hS;else { const hU=hT;hS=hS.lastChild;hT=hU-1;} } } return hR(hM, hQ[0]);} }
function e7(){ return gL.rhtml;}
function e8(){ return gL.wrapMap;}
function e9(){ return gL.defaultWrap;}
function e_(){ return gL.rxhtmlTag;}
function e$(){ return gL.rtagName;}
function fa(hL, hM, hN){ const hO=hL.querySelectorAll(hM);for(let hP=0, hQ=hO.length-1;hP<=hQ;hP++)hN(hO[hP]);}
function fb(hL){ const hM=[];for(let hN=0, hO=hL.childNodes.length-1;hN<=hO;hN++)hM.push(hL.childNodes[hN]);return hM;}
function fc(hL, hM){ const hN=globalThis.document.querySelectorAll(hL);for(let hO=0, hP=hN.length-1;hO<=hP;hO++)hM(hN[hO]);}
function fd(hL, hM, hN){ let hO;if(hN.parentNode===hL){ const hP=hN.nextSibling;let hQ=W(hP, null)?null:hP;hO=hM===hQ;} else hO=false;if(!hO)hL.insertBefore(hN, hM);}
function fe(hL, hM){ if(hM.parentNode===hL)hL.removeChild(hM);}
let ff=hC((hL) => { hF(bY);return class hM extends bY { static { ff=hL(this);} docNode_1;updates_1;elt;rvUpdates;static TreeNode(hN, hO){ const hP=f$.Create(hO);const hQ=dD((hT) => fz(hT[1]), hN.Attrs);let hR=f7(bh(), bk, hQ);let hS=bk(hR, hP.v);return new hM(dk(hN), hS, f(hN.Els, 0), hP);} constructor(hN, hO, hP, hQ){ super(hN, hO);this.docNode_1=hN;this.updates_1=hO;this.elt=hP;this.rvUpdates=hQ;} };});
function fg(){ return gj();}
function fh(hL){ const hM=null;return ee(() => eg(fj(() => { }, gk(hL)), () => { gl(hL);return ek(null);}));}
function fi(hL, hM){ return fk(gN(hL.$0, hM.$0));}
function fj(hL, hM){ const hN=hM.Duration;if(hN===0)return ei();else { const hO=(hP) => { function hQ(hR){ return(hS) => { const hT=hS-hR;hM.Compute(hT);hL();return hT<=hN?void requestAnimationFrame((hU) => {(hQ(hR))(hU);}):hP();};} requestAnimationFrame((hR) => {(hQ(hR))(hR);});};return es((hP, hQ, hR) => hO.apply(null, [hP, hQ, hR]));} }
function fk(hL){ return{$:0, $0:hL};}
function fl(hL){ return fk(gP(br(gn, hL)));}
function fm(){ return fk(gQ());}
function fn(){ return gr.BatchUpdatesEnabled;}
function fo(hL){ const hM=[0];function hN(){ const hO=null;return ee(() => eg(hL, () => { const hP=hM[0];return W(hP, 1)?(hM[0]=0,ei()):W(hP, 2)?(hM[0]=1,hN()):ei();}));} return() => { const hO=hM[0];if(W(hO, 0)){ hM[0]=1;ej(hN(), null);} else W(hO, 1)?hM[0]=2:void 0;};}
function fp(hL, hM, hN){ return by((hO, hP) => hL(hP.Key, hP.Value, hO), hN, gs(true, hM.Tree));}
function fq(hL){ return br((hM) =>[hM.Key, hM.Value], gs(false, hL.Tree));}
function fr(hL){ return new fs("New_1", gv(br((hM) => gA.New(hM[0], hM[1]), hL)));}
let fs=hC((hL) => class hM extends m { static { fs=hL(this);} tree;Equals(hN){ return this.Count===hN.Count&&bB(W, this, hN);} Add_1(hN, hO){ return new fs("New_1", gt(gA.New(hN, hO), this.tree));} get IsEmpty(){ return this.tree==null;} GetEnumerator(){ return ew(br((hN) =>({K:hN.Key, V:hN.Value}), gs(false, this.tree)));} get Count(){ const hN=this.tree;return hN==null?0:hN.Count;} get Tree(){ return this.tree;} GetHashCode(){ return Z(ds(this));} CompareTo0(hN){ return bO(u0034, this, hN);} static New(hN){ return new this("New", hN);} static New_1(hN){ return new this("New_1", hN);} constructor(hN, hO){ let hP;if(hN=="New"){ hP=hO;hN="New_1";hO=gR(hP);} if(hN=="New_1"){ const hQ=hO;super();this.tree=hQ;} } });
let ft=hC((hL) => class hM extends m { static { ft=hL(this);} idle;robin;Fork(hN){ this.robin.push(hN);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const hN=Date.now();let hO=true;while(hO)if(this.robin.length===0){ this.idle=true;hO=false;} else {(this.robin.shift())();Date.now()-hN>40?(setTimeout(() => { this.tick();}, 0),hO=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} });
function fu(hL){ return hL==null?"":hL;}
let fv=hC((hL) => { hF(Error);return class hM extends Error { static { fv=hL(this);} ct;static New(hN){ return new this("New", hN);} static New_1(hN, hO, hP){ return new this("New_1", hN, hO, hP);} constructor(hN, hO, hP, hQ){ let hR;if(hN=="New"){ hR=hO;hN="New_1";hO="The operation was canceled.";hP=null;hQ=hR;} if(hN=="New_1"){ const hS=hO;const hT=hP;const hU=hQ;super(hS);this.inner=hT;this.ct=hU;} } };});
let fw=hC((hL) => class hM extends m { static { fw=hL(this);} init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} });
function fx(hL, hM, hN, hO){ const hP={DynElem:hL, DynFlags:hM, DynNodes:hN};hE(hP, "OnAfterRender", hO);return hP;}
function fy(hL, hM){ const hN=[];const hO=[];function hP(hS){ while(true){ if(!(hS===null)){ if(hS!=null&&hS.$==1)return hN.push(hS.$0);else if(hS!=null&&hS.$==2){ const hT=hS.$1;const hU=hS.$0;hP(hU);hS=hT;} else return hS!=null&&hS.$==3?hS.$0(hL):hS!=null&&hS.$==4?hO.push(hS.$0):null;} else return null;} } hP(hM);const hQ=hN.slice(0);let hR=fx(hL, fB(hM), hQ, hO.length===0?null:bW((hS) => { bC((hT) => { hT(hS);}, hO);}));return hR;}
function fz(hL){ return f_((hM) => hM.NChanged, bh(), bk, hL.DynNodes);}
function fA(hL){ return fx(hL, 0, [], null);}
function fB(hL){ return hL!==null&&hL.hasOwnProperty("flags")?hL.flags:0;}
function fC(hL){ return f2.A3(hL);}
function fD(hL, hM){ return f2.A1(new gT(hL, hM));}
function fE(){ return gU.EmptyAttr;}
function fF(hL){ const hM=2;return(hL.DynFlags&hM)===hM;}
function fG(hL){ return fM(hL, (hM, hN) => hM.NGetExitAnim(hN));}
function fH(hL){ const hM=1;return(hL.DynFlags&hM)===hM;}
function fI(hL){ return fM(hL, (hM, hN) => hM.NGetEnterAnim(hN));}
function fJ(hL){ const hM=4;return(hL.DynFlags&hM)===hM;}
function fK(hL){ return fM(hL, (hM, hN) => hM.NGetChangeAnim(hN));}
function fL(hL, hM){ if(hL===null)return hM;else if(hM===null)return hL;else { const hN=f2.A2(hL, hM);fO(hN, fB(hL)|fB(hM));return hN;} }
function fM(hL, hM){ return fl(dD((hN) => hM(hN, hL.DynElem), hL.DynNodes));}
function fN(hL, hM){ dx((hN) => { hN.NSync(hL);}, hM.DynNodes);}
function fO(hL, hM){ hL.flags=hM;}
let fP=hC((hL) => { hF(o);return class hM extends o { static { fP=hL(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let fQ=hC((hL) => { hF(o);return class hM extends o { static { fQ=hL(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function fR(hL, hM){ return fC((hN) => { hN.addEventListener(hL, (hO) =>(hM(hN))(hO), false);});}
function fS(hL){ return f2.A4(hL);}
function fT(hL, hM){ return fD(hM, (hN) =>(hO) => hN.setAttribute(hL, hO));}
function fU(hL){ return f0(hg(), hL);}
function fV(hL){ return f0(hh(), hL);}
function fW(hL){ return f0(hi(), hL);}
function fX(hL){ return f0(hj(), hL);}
function fY(hL){ return f0(hk(), hL);}
function fZ(hL){ return f0(hl(), hL);}
function f0(hL, hM){ const hN=hL(hM);return f2.Append(fC(hN[0]), f1(hN[1], hN[2]));}
function f1(hL, hM){ return fD(hM, hL);}
let f2=hC((hL) => class hM { static { f2=hL(this);} static Handler(hN, hO){ return f2.HandlerImpl(hN, hO);} static Concat(hN){ const hO=f9(hN);return f7(fE(), f2.Append, hO);} static Create(hN, hO){ return fC((hP) => { hP.setAttribute(hN, hO);});} static HandlerImpl(hN, hO){ return fC((hP) => { hP.addEventListener(hN, (hQ) =>(hO(hP))(hQ), false);});} static Append(hN, hO){ return fL(hN, hO);} static A4(hN){ return hG(hM, {$:4, $0:hN});} static A3(hN){ return hG(hM, {$:3, $0:hN});} static A1(hN){ return hG(hM, {$:1, $0:hN});} static A2(hN, hO){ return hG(hM, {$:2, $0:hN, $1:hO});} });
let f3=hC((hL) => { hF(o);return class hM extends o { static { f3=hL(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
let f4=hC((hL) => { hF(o);return class hM extends o { static { f4=hL(this);} name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} };});
function f5(hL){ return{$:0, $0:hL};}
function f6(hL){ return{$:1, $0:hL};}
function f7(hL, hM, hN){ const hO=g(hN);function hP(hQ){ return(hR) => { let hS;switch(hR<=0?0:hR===1?hQ>=0&&hQ<hO?1:(hS=hR,2):(hS=hR,2)){ case 0:return hL;case 1:return f(hN, hQ);case 2:const hT=hR/2>>0;return hM((hP(hQ))(hT), (hP(hQ+hT))(hR-hT));} };} return(hP(0))(hO);}
function f8(hL, hM){ for(let hN=0, hO=hM.length-1;hN<=hO;hN++)hM[hN]=hL(hM[hN]);return hM;}
function f9(hL){ if(hL instanceof Array)return hL;else if(hL instanceof b3)return dt(hL);else if(hL===null)return[];else { const hM=[];const hN=ew(hL);try { while(hN.MoveNext())hM.push(hN.Current);return hM;} finally { if(typeof hN=="object"&&a(hN))hN.Dispose();} } }
function f_(hL, hM, hN, hO){ const hP=g(hO);function hQ(hR){ return(hS) => { let hT;switch(hS<=0?0:hS===1?hR>=0&&hR<hP?1:(hT=hS,2):(hT=hS,2)){ case 0:return hM;case 1:return hL(f(hO, hR));case 2:const hU=hS/2>>0;return hN((hQ(hR))(hU), (hQ(hR+hU))(hS-hU));} };} return(hQ(0))(hP);}
let f$=hC((hL) => class hM { static { f$=hL(this);} c;s;v;static Create(hN){ let hO;hO=null;hO=f$.New(hN, null, () => { let hP;hP=hO.s;return hP===null?(hP=cA(hO.c()),hO.s=hP,cn(hP, () => { hO.s=null;}),hP):hP;});return hO;} static New(hN, hO, hP){ return hG(f$, {c:hN, s:hO, v:hP});} });
let ga=hC((hL) => class hM extends m { static { ga=hL(this);} d;GetEnumerator(){ return ew(br((hN) => hN.V, this.d));} constructor(hN){ super();this.d=hN;} });
function gb(hL, hM){ return{PreviousNodes:hL, Top:hM};}
function gc(){ return ge(new dp("New_3"));}
function gd(hL){ const hM=[];function hN(hQ, hR){ while(true)switch(hQ){ case 0:if(hR!=null&&hR.$==0){ const hS=hR.$1;const hT=hR.$0;hN(0, hT);hR=hS;} else if(hR!=null&&hR.$==1){ const hU=hR.$0;hR=hU;hQ=1;} else if(hR!=null&&hR.$==2){ const hV=hR.$0;hR=hV.Current;} else if(hR!=null&&hR.$==6){ const hW=hR.$0.Holes;return(((hX) =>(hY) => { dx(hX, hY);})(hP))(hW);} else return null;break;case 1:hM.push(hR);hR=hR.Children;hQ=0;break;} } function hO(hQ){ return hN(0, hQ);} function hP(hQ){ return hN(1, hQ);} hO(hL);return ge(new dp("New_2", hM));}
function ge(hL){ return{$:0, $0:hL};}
function gf(hL, hM){ return ge(gW(hL, hM.$0));}
function gg(hL, hM){ return ge(gX(hL.$0, hM.$0));}
function gh(hL){ return gY(hL.$0);}
function gi(hL, hM){ return ge(gZ(hL.$0, hM.$0));}
function gj(){ return gM.UseAnimations;}
function gk(hL){ return gm(dq((hM) => hM.$==1?bW(hM.$0):null, gO(hL.$0)));}
function gl(hL){ dx((hM) => { if(hM.$==0)hM.$0();}, gO(hL.$0));}
function gm(hL){ const hM=f9(hL);const hN=g(hM);if(hN===0)return go();else if(hN===1)return f(hM, 0);else { const hO=bH(br((hQ) => hQ.Duration, hM));const hP=dD((hQ) => gq(hO, hQ), hM);return gp(hO, (hQ) => { dx((hR) => { hR.Compute(hQ);}, hP);});} }
function gn(hL){ return hL.$0;}
function go(hL){ return gp(0, () => hL);}
function gp(hL, hM){ return{Compute:hM, Duration:hL};}
function gq(hL, hM){ const hN=hM.Compute;const hO=hM.Duration;const hP=hw(() => hM.Compute(hM.Duration));return{Compute:(hQ) => hQ>=hO?hP.f():hN(hQ), Duration:hL};}
let gr=hC((hL) => class hM { static { gr=hL(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function gs(hL, hM){ function hN(hO, hP){ let hQ;while(true){ if(hO==null)return hP.$==1?bW([hP.$0[0], [hP.$0[1], hP.$1]]):null;else if(hL){ hQ=hO;hO=hQ.Right;hP=b3.Cons([hQ.Node, hQ.Left], hP);} else { hQ=hO;hO=hQ.Left;hP=b3.Cons([hQ.Node, hQ.Right], hP);} } } return bF((hO) => hN(hO[0], hO[1]), [hM, b3.Empty]);}
function gt(hL, hM){ return gu((hN, hO) => hO, hL, hM);}
function gu(hL, hM, hN){ const hO=gx(hM, hN);const hP=hO[0];return hP==null?gy(hO[1], gz(hM, null, null)):gy(hO[1], gz(hL(hP.Node, hM), hP.Left, hP.Right));}
function gv(hL){ const hM=ds(bI(hL));dG(hM);return gw(hM, 0, hM.length-1);}
function gw(hL, hM, hN){ if(hN-hM+1<=0)return null;else { const hO=(hM+hN)/2>>0;return gz(f(hL, hO), gw(hL, hM, hO-1), gw(hL, hO+1, hN));} }
function gx(hL, hM){ let hN=[];let hO=hM;let hP=true;while(hP)if(hO==null)hP=false;else { const hQ=u0034(hL, hO.Node);if(hQ===0)hP=false;else hQ===1?(hN.unshift([true, hO.Node, hO.Left]),hO=hO.Right):(hN.unshift([false, hO.Node, hO.Right]),hO=hO.Left);} return[hO, hN];}
function gy(hL, hM){ const hN=(hW) => hW==null?0:hW.Height;let hO=hM;for(let hW=0, hX=g(hL)-1;hW<=hX;hW++){ const hP=f(hL, hW);if(hP[0]){ const hQ=hP[1];const hR=hP[2];if(hN(hO)>hN(hR)+1){ if(hN(hO.Left)===hN(hO.Right)+1){ const hS=hO.Left;hO=gz(hS.Node, gz(hQ, hR, hS.Left), gz(hO.Node, hS.Right, hO.Right));} else hO=gz(hO.Node, gz(hQ, hR, hO.Left), hO.Right);} else hO=gz(hQ, hR, hO);} else { const hT=hP[1];const hU=hP[2];if(hN(hO)>hN(hU)+1){ if(hN(hO.Right)===hN(hO.Left)+1){ const hV=hO.Right;hO=gz(hV.Node, gz(hO.Node, hO.Left, hV.Left), gz(hT, hV.Right, hU));} else hO=gz(hO.Node, hO.Left, gz(hT, hO.Right, hU));} else hO=gz(hT, hO, hU);} } return hO;}
function gz(hL, hM, hN){ const hO=hM==null?0:hM.Height;const hP=hN==null?0:hN.Height;let hQ=u0034(hO, hP)===1?hO:hP;let hR=1+hQ;return gB(hL, hM, hN, hR, 1+(hM==null?0:hM.Count)+(hN==null?0:hN.Count));}
let gA=hC((hL) => class hM { static { gA=hL(this);} Key;Value;Equals(hN){ return W(this.Key, hN.Key);} GetHashCode(){ return Z(this.Key);} CompareTo0(hN){ return u0034(this.Key, hN.Key);} static New(hN, hO){ return hG(gA, {Key:hN, Value:hO});} });
function gB(hL, hM, hN, hO, hP){ return{Node:hL, Left:hM, Right:hN, Height:hO, Count:hP};}
let gC=hC((hL) => class hM { static { gC=hL(this);} static counter;static { this.counter=0;} });
function gD(hL){ hL.splice(0, g(hL));}
function gE(){ return j("The input sequence has an insufficient number of elements.");}
function gF(hL, hM){ for(let hN=0, hO=hM.length-1;hN<=hO;hN++)hM[hN]=hL(hN, hM[hN]);return hM;}
function gG(hL, hM){ for(let hN=0, hO=hM.length-1;hN<=hO;hN++)hM[hN]=hL(hM[hN]);}
function gH(hL, hM){ let hN=true;let hO=0;while(hN&&hO<g(hM))if(W(hM[hO], hL))hN=false;else hO=hO+1;return!hN;}
function gI(){ return j("The input must be non-negative.");}
let gJ=hC((hL) => class hM extends m { static { gJ=hL(this);} d;GetEnumerator(){ return ew(br((hN) => hN.K, this.d));} constructor(hN){ super();this.d=hN;} });
function gK(hL){ let hM=[];let hN;for(var hO in hL)hM.push.apply(hM, hL[hO]);return hM;}
let gL=hC((hL) => class hM { static { gL=hL(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const hN=[1, "<table>", "</table>"];let hO=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", hN], ["tbody", hN], ["tfoot", hN], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=hO;this.defaultWrap=[0, "", ""];} });
let gM=hC((hL) => class hM { static { gM=hL(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=gV.Custom((hN) => { const hO=hN*hN;return 3*hO-2*(hO*hN);});this.UseAnimations=true;} });
function gN(hL, hM){ return hL.$==0?hM:hM.$==0?hL:{$:2, $0:hL, $1:hM};}
function gO(hL){ const hM=[];function hN(hO){ while(true){ if(hO.$==1)return hM.push(hO.$0);else if(hO.$==2){ const hP=hO.$1;const hQ=hO.$0;hN(hQ);hO=hP;} else return hO.$==3?dx((hR) => { hM.push(hR);}, hO.$0):null;} } hN(hL);return hM.slice(0);}
function gP(hL){ const hM=f9(hL);return f7(gQ(), gN, hM);}
function gQ(){ return hz.Empty;}
function gR(hL){ const hM=ds(br((hN) => gA.New(hN[0], hN[1]), bu((hN) => hN[0], bE(hL))));dG(hM);return gw(hM, 0, hM.length-1);}
let gS=hC((hL) => { hF(Error);return class hM extends Error { static { gS=hL(this);} static New(){ return new this("New");} static New_1(hN){ return new this("New_1", hN);} constructor(hN, hO){ if(hN=="New"){ hN="New_1";hO="The given key was not present in the dictionary.";} if(hN=="New_1"){ const hP=hO;super(hP);} } };});
let gT=hC((hL) => class hM extends m { static { gT=hL(this);} push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(hN){ return fm();} NGetEnterAnim(hN){ return fm();} NGetChangeAnim(hN){ return fm();} NSync(hN){ if(this.dirty){(this.push(hN))(this.value);this.dirty=false;} } constructor(hN, hO){ super();this.push=hO;this.value=void 0;this.dirty=false;this.updates=$((hP) => { this.value=hP;this.dirty=true;}, hN);} });
let gU=hC((hL) => class hM { static { gU=hL(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(h3) =>[(h4) => { h4.addEventListener("change", () => h3.Get()!=h4.checked?h3.Set(h4.checked):null);}, (h4) =>(h5) => h5!=null&&h5.$==1?void(h4.checked=h5.$0):null, $(bW, h3.View)];this.StringSet=(h3) =>(h4) => { h3.value=h4;};this.StringGet=(h3) => bW(h3.value);const hN=g2();const hO=g1();this.StringApply=(h3) => g0(hN, hO, h3);this.StringListSet=(h3) =>(h4) => { const h5=h3.options;for(let h6=0, h7=h5.length-1;h6<=h7;h6++)((() => { const h8=h5.item(h6);h8.selected=gH(h8.value, h4);})());};this.StringListGet=(h3) => { const h4=h3.selectedOptions;return bW(ds(bG(() => bp((h5) =>[h4.item(h5).value], l(0, h4.length-1)))));};const hP=g4();const hQ=g3();this.StringListApply=(h3) => g0(hP, hQ, h3);this.DateTimeSetUnchecked=(h3) =>(h4) => { h3.value=(new Date(h4)).toLocaleString();};this.DateTimeGetUnchecked=(h3) => { let h4;let h5;const h6=h3.value;if(hm(h6))return bW(-8640000000000000);else { h4=0;const h7=hu(h6);let h8=h7!=null&&h7.$==1&&(h4=h7.$0,true);h5=[h8, h4];return h5[0]?bW(h5[1]):null;} };const hR=g6();const hS=g5();this.DateTimeApplyUnchecked=(h3) => g0(hR, hS, h3);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(h3) => { const h4=h3.files;return bW(ds(bG(() => br((h5) => h4.item(h5), l(0, h4.length-1)))));};const hT=g9();const hU=g8();this.FileApplyUnchecked=(h3) => g7(hT, hU, h3);this.IntSetUnchecked=(h3) =>(h4) => { h3.value=String(h4);};this.IntGetUnchecked=(h3) => { const h4=h3.value;if(hm(h4))return bW(0);else { const h5=+h4;return h5!==h5>>0?null:bW(h5);} };const hV=g$();const hW=g_();this.IntApplyUnchecked=(h3) => g0(hV, hW, h3);this.IntSetChecked=(h3) =>(h4) => { const h5=h4.Input;return h3.value!=h5?void(h3.value=h5):null;};this.IntGetChecked=(h3) => { let h4;let h5;const h6=h3.value;if(hm(h6))h4=(h3.checkValidity?h3.checkValidity():true)?hn.Blank(h6):hn.Invalid(h6);else { const h7=(h5=0,[cI(h6, {get:() => h5, set:(h8) => { h5=h8;}}), h5]);h4=h7[0]?hn.Valid(h7[1], h6):hn.Invalid(h6);} return bW(h4);};const hX=hb();const hY=ha();this.IntApplyChecked=(h3) => g0(hX, hY, h3);this.FloatSetUnchecked=(h3) =>(h4) => { h3.value=String(h4);};this.FloatGetUnchecked=(h3) => { const h4=h3.value;if(hm(h4))return bW(0);else { const h5=+h4;return isNaN(h5)?null:bW(h5);} };const hZ=hd();const h0=hc();this.FloatApplyUnchecked=(h3) => g0(hZ, h0, h3);this.FloatSetChecked=(h3) =>(h4) => { const h5=h4.Input;return h3.value!=h5?void(h3.value=h5):null;};this.FloatGetChecked=(h3) => { let h4;const h5=h3.value;if(hm(h5))h4=(h3.checkValidity?h3.checkValidity():true)?hn.Blank(h5):hn.Invalid(h5);else { const h6=+h5;h4=isNaN(h6)?hn.Invalid(h5):hn.Valid(h6, h5);} return bW(h4);};const h1=hf();const h2=he();this.FloatApplyChecked=(h3) => g0(h1, h2, h3);} });
let gV=hC((hL) => class hM extends m { static { gV=hL(this);} transformTime;static Custom(hN){ return new hM(hN);} constructor(hN){ super();this.transformTime=hN;} });
function gW(hL, hM){ return new dp("New_2", dA(hL, gY(hM)));}
function gX(hL, hM){ const hN=new dp("New_2", gY(hM));hN.ExceptWith(gY(hL));return hN;}
function gY(hL){ const hM=dH(hL.Count, void 0);hL.CopyTo(hM, 0);return hM;}
function gZ(hL, hM){ const hN=new dp("New_2", gY(hL));hN.IntersectWith(gY(hM));return hN;}
function g0(hL, hM, hN){ let hO;hO=null;return[(hP) => { const hQ=() => { hN.UpdateMaybe((hR) => { let hS;hO=hL(hP);return hO!=null&&hO.$==1&&(!W(hO.$0, hR)&&(hS=[hO, hO.$0],true))?hS[0]:null;});};hP.addEventListener("change", hQ);hP.addEventListener("input", hQ);hP.addEventListener("keypress", hQ);}, (hP) => { const hQ=hM(hP);return(hR) => hR==null?null:hQ(hR.$0);}, $((hP) => { let hQ;return hO!=null&&hO.$==1&&(W(hO.$0, hP)&&(hQ=hO.$0,true))?null:bW(hP);}, hN.View)];}
function g1(){ return gU.StringSet;}
function g2(){ return gU.StringGet;}
function g3(){ return gU.StringListSet;}
function g4(){ return gU.StringListGet;}
function g5(){ return gU.DateTimeSetUnchecked;}
function g6(){ return gU.DateTimeGetUnchecked;}
function g7(hL, hM, hN){ let hO;hO=null;return[(hP) => { hP.addEventListener("change", () => { hN.UpdateMaybe((hQ) => { let hR;hO=hL(hP);return hO!=null&&hO.$==1&&(hO.$0!==hQ&&(hR=[hO, hO.$0],true))?hR[0]:null;});});}, (hP) => { const hQ=hM(hP);return(hR) => hR==null?null:hQ(hR.$0);}, $((hP) => { let hQ;return hO!=null&&hO.$==1&&(W(hO.$0, hP)&&(hQ=hO.$0,true))?null:bW(hP);}, hN.View)];}
function g8(){ return gU.FileSetUnchecked;}
function g9(){ return gU.FileGetUnchecked;}
function g_(){ return gU.IntSetUnchecked;}
function g$(){ return gU.IntGetUnchecked;}
function ha(){ return gU.IntSetChecked;}
function hb(){ return gU.IntGetChecked;}
function hc(){ return gU.FloatSetUnchecked;}
function hd(){ return gU.FloatGetUnchecked;}
function he(){ return gU.FloatSetChecked;}
function hf(){ return gU.FloatGetChecked;}
function hg(){ return gU.FloatApplyUnchecked;}
function hh(){ return gU.StringApply;}
function hi(){ return gU.BoolCheckedApply;}
function hj(){ return gU.DateTimeApplyUnchecked;}
function hk(){ return gU.FileApplyUnchecked;}
function hl(){ return gU.StringListApply;}
function hm(hL){ return cX(ht, hL);}
let hn=hC((hL) => class hM { static { hn=hL(this);} get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(hN){ return hG(hM, {$:2, $0:hN});} static Invalid(hN){ return hG(hM, {$:1, $0:hN});} static Valid(hN, hO){ return hG(hM, {$:0, $0:hN, $1:hO});} });
function ho(hL, hM){ let hN;if(hM!=null&&hM.$==1){ const hO=[];hN=hM.$0[0].nextSibling;while(hN!==hM.$0[1]){ hO.push(hN);hN=hN.nextSibling;} return hs(hO);} else { let hP=hL.childNodes.length;const hQ=hL.childNodes;let hR=dw(hP, (hS) => hQ[hS]);return hs(hR);} }
function hp(hL, hM){ const hN=hL.$0;return hs(dA((hO) => dv((hP) =>!(hO===hP), hN), hM.$0));}
function hq(hL, hM){ dx(hL, hM.$0);}
function hr(hL){ const hM=[];function hN(hO){ while(true){ if(hO!=null&&hO.$==2){ const hP=hO.$0;hO=hP.Current;} else if(hO!=null&&hO.$==1)return hM.push(hO.$0.El);else if(hO==null)return null;else if(hO!=null&&hO.$==5)return hM.push(hO.$0);else if(hO!=null&&hO.$==4)return hM.push(hO.$0.Text);else if(hO!=null&&hO.$==6){ const hQ=hO.$0.Els;return(((hT) =>(hU) => { dx(hT, hU);})((hT) => { if(hT==null||hT.constructor===Object)hN(hT);else hM.push(hT);}))(hQ);} else { const hR=hO.$1;const hS=hO.$0;hN(hS);hO=hR;} } } hN(hL.Children);return hs(f9(hM));}
function hs(hL){ return{$:0, $0:hL};}
function ht(hL){ return hL.match(new RegExp("\\s"))!==null;}
function hu(hL){ const hM=Date.parse(hL);return isNaN(hM)?null:bW(hM);}
function hv(hL, hM, hN, hO){ const hP=+hL;const hQ=hP===hP-hP%1&&hP>=hM&&hP<=hN;if(hQ)hO.set(hP);return hQ;}
function hw(hL){ return hA(false, hL, hx);}
function hx(){ const hL=this.v();this.c=true;this.v=hL;this.f=hy;return hL;}
function hy(){ return this.v;}
let hz=hC((hL) => class hM { static { hz=hL(this);} static Empty;static { this.Empty={$:0};} });
function hA(hL, hM, hN){ return{c:hL, v:hM, f:hN};}
hK(() => { b();});
hB();

